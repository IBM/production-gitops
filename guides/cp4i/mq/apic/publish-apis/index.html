<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The Cloud Pak Production Deployment Guides document and demonstrate how to run cloud-native solutions leveraging IBM Cloud Pak capabilities in a Red Hat OpenShift environment"><meta name=author content="Cloud Pak Production Deployment Guides development team"><link rel=icon href=../../../../../images/cloudnativetoolkit.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-8.2.11"><title>Publish APIs - Cloud Pak Production Deployment Guides</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.8c5ef100.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.9647289d.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style><link rel=stylesheet href=../../../../../css/extra.css><link rel=stylesheet href=../../../../../css/toolkit-code.css><script>__md_scope=new URL("../../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Q0FLL49YN3"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-Q0FLL49YN3",{page_path:e.pathname})})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q0FLL49YN3"></script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="Cloud Pak Production Deployment Guides - Publish APIs"><meta property=og:description content="The Cloud Pak Production Deployment Guides document and demonstrate how to run cloud-native solutions leveraging IBM Cloud Pak capabilities in a Red Hat OpenShift environment"><meta property=og:url content=None><meta property=og:image content=assets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#publish-application-apis-to-ibm-api-connect class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Cloud Pak Production Deployment Guides" class="md-header__button md-logo" aria-label="Cloud Pak Production Deployment Guides" data-md-component=logo> <img src=../../../../../images/cloudnativetoolkit.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud Pak Production Deployment Guides </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Publish APIs </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.ibm.com/cloudpakbringup/production-deployment-guides title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../../../overview/overview/ class=md-tabs__link> Production Considerations </a> </li> <li class=md-tabs__item> <a href=../../../../../quickstart/overview/ class=md-tabs__link> Quick Start Demos </a> </li> <li class=md-tabs__item> <a href=../../../../guides-overview/ class="md-tabs__link md-tabs__link--active"> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../../../../infrastructure/ad/ class=md-tabs__link> References </a> </li> <li class=md-tabs__item> <a href=../../../../../overview/whats-new/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!-- Determine class according to configuration --> <!-- Main navigation --> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <!-- Site title --> <!--
  <label class="md-nav__title" for="__drawer">
    <a
      href="../../../../.."
      title="Cloud Pak Production Deployment Guides"
      class="md-nav__button md-logo"
      aria-label="Cloud Pak Production Deployment Guides"
      data-md-component="logo"
    >
      
  <img src="../../../../../images/cloudnativetoolkit.png" alt="logo">

    </a>
    Cloud Pak Production Deployment Guides
  </label>
--> <!-- Repository information --> <div class=md-nav__source> <a href=https://github.ibm.com/cloudpakbringup/production-deployment-guides title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> <!-- Render item list --> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Production Considerations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Production Considerations" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Production Considerations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../overview/overview/ class=md-nav__link> Objective </a> </li> <li class=md-nav__item> <a href=../../../../../gitops/personas/ class=md-nav__link> Personas </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> DevOps Automation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DevOps Automation" data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> DevOps Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../automation/why-automate/ class=md-nav__link> Why Automate? </a> </li> <li class=md-nav__item> <a href=../../../../../gitops/structure/ class=md-nav__link> GitOps Structure </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> Golden Topologies <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Golden Topologies" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Golden Topologies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-azure/ class=md-nav__link> Azure Unmanaged </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-aro/ class=md-nav__link> Azure Managed (ARO) </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-aws/ class=md-nav__link> AWS Unmanaged </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-rosa/ class=md-nav__link> AWS Managed (ROSA) </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-roks/ class=md-nav__link> IBM Cloud Managed (ROKS) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5 type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5> Cloud Pak for Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Integration" data-md-level=2> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Cloud Pak for Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_1 type=checkbox id=__nav_2_5_1> <label class=md-nav__link for=__nav_2_5_1> IBM App Connect Enterprise <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM App Connect Enterprise" data-md-level=3> <label class=md-nav__title for=__nav_2_5_1> <span class="md-nav__icon md-icon"></span> IBM App Connect Enterprise </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/overview/architecture/ class=md-nav__link> Architecture </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_2 type=checkbox id=__nav_2_5_2> <label class=md-nav__link for=__nav_2_5_2> IBM Message Queue <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM Message Queue" data-md-level=3> <label class=md-nav__title for=__nav_2_5_2> <span class="md-nav__icon md-icon"></span> IBM Message Queue </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../overview/architecture/ class=md-nav__link> Architecture </a> </li> <li class=md-nav__item> <a href=../../security/information/overview/ class=md-nav__link> Security </a> </li> <li class=md-nav__item> <a href=../../cloud-native/promote-environments/ class=md-nav__link> Promoting across environments </a> </li> <li class=md-nav__item> <a href=../../performance/performance/ class=md-nav__link> Performance </a> </li> <li class=md-nav__item> <a href=../../high-availability/overview/ class=md-nav__link> High Availability </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_3 type=checkbox id=__nav_2_5_3> <label class=md-nav__link for=__nav_2_5_3> IBM API Connect <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM API Connect" data-md-level=3> <label class=md-nav__title for=__nav_2_5_3> <span class="md-nav__icon md-icon"></span> IBM API Connect </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_3_1 type=checkbox id=__nav_2_5_3_1> <label class=md-nav__link for=__nav_2_5_3_1> Architecture <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Architecture data-md-level=4> <label class=md-nav__title for=__nav_2_5_3_1> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/architecture/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> <li class=md-nav__item> <a href=../../../apic/architecture/multi-cloud/ class=md-nav__link> Multi-cloud </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../apic/security/overview/ class=md-nav__link> Security </a> </li> <li class=md-nav__item> <a href=../../../apic/high-availability/overview/ class=md-nav__link> High Availability </a> </li> <li class=md-nav__item> <a href=../../../apic/disaster-recovery/overview/ class=md-nav__link> Disaster Recovery </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_6 type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6> Cloud Pak for Business Automation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Business Automation" data-md-level=2> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Cloud Pak for Business Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_6_1 type=checkbox id=__nav_2_6_1> <label class=md-nav__link for=__nav_2_6_1> IBM Automation Decision Services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM Automation Decision Services" data-md-level=3> <label class=md-nav__title for=__nav_2_6_1> <span class="md-nav__icon md-icon"></span> IBM Automation Decision Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/ads/architecture/ads/ class=md-nav__link> Architecture </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_6_2 type=checkbox id=__nav_2_6_2> <label class=md-nav__link for=__nav_2_6_2> IBM Process Mining <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM Process Mining" data-md-level=3> <label class=md-nav__title for=__nav_2_6_2> <span class="md-nav__icon md-icon"></span> IBM Process Mining </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/architecture/ibm-cloud/ class=md-nav__link> Architecture </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_7 type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7> Cloud Pak for Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Data" data-md-level=2> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d-hadr/cpdbase/overview/architecture/ class=md-nav__link> Architecture </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Quick Start Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Quick Start Demos" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Quick Start Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cntk/ class=md-nav__link> Cloud Native Toolkit </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3> Cloud Pak for Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Integration" data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Cloud Pak for Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-ace/ class=md-nav__link> IBM App Connect Enterprise </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-mq/ class=md-nav__link> IBM Message Queue </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-apic/ class=md-nav__link> IBM API Connect </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-es/ class=md-nav__link> IBM Event Streams </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4> Cloud Pak for Security <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Security" data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Cloud Pak for Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4s/ class=md-nav__link> Cloud Pak for Security </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_5 type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5> Cloud Pak for Business Automation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Business Automation" data-md-level=2> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Cloud Pak for Business Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-process-mining/ class=md-nav__link> IBM Process Mining </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_6 type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6> Cloud Pak for Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Data" data-md-level=2> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d/ class=md-nav__link> Cloud Pak for Data </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d-ws/ class=md-nav__link> IBM Watson Studio </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d-wkc/ class=md-nav__link> IBM Watson Knowledge Catalog </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d-ds/ class=md-nav__link> IBM DataStage </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d-aespark/ class=md-nav__link> IBM Analytics Engine Powered by Apache Spark </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d-wos/ class=md-nav__link> IBM Watson OpenScale </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_7 type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7> Observability <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Observability data-md-level=2> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Observability </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-instana-agent/ class=md-nav__link> Instana Agent </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-instana-grafana/ class=md-nav__link> Instana & Grafana </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-instana-server/ class=md-nav__link> Instana Server </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-instana-mq/ class=md-nav__link> Instana & MQ </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_8 type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8> Sterling B2Bi <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Sterling B2Bi" data-md-level=2> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Sterling B2Bi </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-sterling-b2bi/ class=md-nav__link> Sterling File Gateway </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../guides-overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Infrastructure <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Infrastructure data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/infra-overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_2 type=checkbox id=__nav_4_2_2> <label class=md-nav__link for=__nav_4_2_2> Managed Clusters <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Managed Clusters" data-md-level=3> <label class=md-nav__title for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> Managed Clusters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/roks/ class=md-nav__link> IBM ROKS </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/rosa/ class=md-nav__link> Amazon ROSA </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/aro/ class=md-nav__link> Microsoft ARO </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_3 type=checkbox id=__nav_4_2_3> <label class=md-nav__link for=__nav_4_2_3> Unmanaged Clusters <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Unmanaged Clusters" data-md-level=3> <label class=md-nav__title for=__nav_4_2_3> <span class="md-nav__icon md-icon"></span> Unmanaged Clusters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/aws/ class=md-nav__link> Amazon AWS </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/azure/ class=md-nav__link> Microsoft Azure </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/restricted-networks/ class=md-nav__link> Restricted Networks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3 checked> <label class=md-nav__link for=__nav_4_3> Cloud Pak for Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Integration" data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Cloud Pak for Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1 type=checkbox id=__nav_4_3_1> <label class=md-nav__link for=__nav_4_3_1> IBM App Connect Enterprise <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM App Connect Enterprise" data-md-level=3> <label class=md-nav__title for=__nav_4_3_1> <span class="md-nav__icon md-icon"></span> IBM App Connect Enterprise </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/overview/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../ace/overview/architecture/ class=md-nav__link> Architecture </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1_3 type=checkbox id=__nav_4_3_1_3> <label class=md-nav__link for=__nav_4_3_1_3> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_1_3> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/cluster-create/ibm-setup/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1_4 type=checkbox id=__nav_4_3_1_4> <label class=md-nav__link for=__nav_4_3_1_4> Configure the Cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the Cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_1_4> <span class="md-nav__icon md-icon"></span> Configure the Cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/cluster-config/gitops-tekton-argocd/ class=md-nav__link> GitOps, Tekton & ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../ace/cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> <li class=md-nav__item> <a href=../../../ace/cluster-config/services/ class=md-nav__link> Deploying Services </a> </li> <li class=md-nav__item> <a href=../../../ace/cluster-config/applications/ class=md-nav__link> Application components </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../ace/cloud-native-example/example/ class=md-nav__link> Cloud Native Example </a> </li> <li class=md-nav__item> <a href=../../../ace/deploy-backend-service/deploy-backend-service/ class=md-nav__link> Deploy Backend Service </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1_7 type=checkbox id=__nav_4_3_1_7> <label class=md-nav__link for=__nav_4_3_1_7> Build Integration Server <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Build Integration Server" data-md-level=4> <label class=md-nav__title for=__nav_4_3_1_7> <span class="md-nav__icon md-icon"></span> Build Integration Server </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/build-integration-server/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../ace/build-integration-server/build-configurations/ class=md-nav__link> Build Configuration </a> </li> <li class=md-nav__item> <a href=../../../ace/build-integration-server/build-integration-server/ class=md-nav__link> Build Integration Server </a> </li> <li class=md-nav__item> <a href=../../../ace/build-integration-server/continuous-update/ class=md-nav__link> Continuous Update </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../ace/environment-promotion/promoting-environments/ class=md-nav__link> Environment Promotion </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2 type=checkbox id=__nav_4_3_2 checked> <label class=md-nav__link for=__nav_4_3_2> IBM MQ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM MQ" data-md-level=3> <label class=md-nav__title for=__nav_4_3_2> <span class="md-nav__icon md-icon"></span> IBM MQ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../using/this-guide/ class=md-nav__link> The MQ tutorial </a> </li> <li class=md-nav__item> <a href=../../overview/architecture/ class=md-nav__link> Target architecture </a> </li> <li class=md-nav__item> <a href=../../cluster-create/ibm-setup/ class=md-nav__link> Create the cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_4 type=checkbox id=__nav_4_3_2_4> <label class=md-nav__link for=__nav_4_3_2_4> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_4> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cluster-config/gitops-tekton-argocd/ class=md-nav__link> Set up GitOps </a> </li> <li class=md-nav__item> <a href=../../cluster-config/gitops-config/ class=md-nav__link> Add infrastructure </a> </li> <li class=md-nav__item> <a href=../../cluster-config/services/ class=md-nav__link> Add services </a> </li> <li class=md-nav__item> <a href=../../cluster-config/applications/ class=md-nav__link> Application components </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_5 type=checkbox id=__nav_4_3_2_5> <label class=md-nav__link for=__nav_4_3_2_5> Build Queue Manager <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Build Queue Manager" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_5> <span class="md-nav__icon md-icon"></span> Build Queue Manager </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../qmgr-pipeline/topic1/ class=md-nav__link> Configuring the pipeline </a> </li> <li class=md-nav__item> <a href=../../qmgr-pipeline/topic5/ class=md-nav__link> (Optional) Enabling dynamic configurations </a> </li> <li class=md-nav__item> <a href=../../qmgr-pipeline/topic2/ class=md-nav__link> Running the pipeline </a> </li> <li class=md-nav__item> <a href=../../qmgr-pipeline/topic3/ class=md-nav__link> Deploying and using </a> </li> <li class=md-nav__item> <a href=../../qmgr-pipeline/topic4/ class=md-nav__link> Continuous updates </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_6 type=checkbox id=__nav_4_3_2_6> <label class=md-nav__link for=__nav_4_3_2_6> Build MQ application <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Build MQ application" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_6> <span class="md-nav__icon md-icon"></span> Build MQ application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../app-pipeline/topic1/ class=md-nav__link> Sample application </a> </li> <li class=md-nav__item> <a href=../../app-pipeline/topic2/ class=md-nav__link> Configuring the pipeline </a> </li> <li class=md-nav__item> <a href=../../app-pipeline/topic3/ class=md-nav__link> Managing an application change </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_7 type=checkbox id=__nav_4_3_2_7> <label class=md-nav__link for=__nav_4_3_2_7> Environment Promotion <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Environment Promotion" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_7> <span class="md-nav__icon md-icon"></span> Environment Promotion </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cloud-native/promoting-environments-dev-stage/ class=md-nav__link> Promote from dev to staging </a> </li> <li class=md-nav__item> <a href=../../cloud-native/promoting-environments-stage-prod/ class=md-nav__link> Promote from staging to prod </a> </li> <li class=md-nav__item> <a href=../../cloud-native/automate-promotion/ class=md-nav__link> Automate promotion </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_8 type=checkbox id=__nav_4_3_2_8> <label class=md-nav__link for=__nav_4_3_2_8> Monitor Queue Manager <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Monitor Queue Manager" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_8> <span class="md-nav__icon md-icon"></span> Monitor Queue Manager </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../monitoring/topic1/ class=md-nav__link> Technology stack </a> </li> <li class=md-nav__item> <a href=../../monitoring/topic2/ class=md-nav__link> MQ scenario </a> </li> <li class=md-nav__item> <a href=../../monitoring/topic3/ class=md-nav__link> Metrics application </a> </li> <li class=md-nav__item> <a href=../../monitoring/topic4/ class=md-nav__link> Customising dashboard </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_9 type=checkbox id=__nav_4_3_2_9 checked> <label class=md-nav__link for=__nav_4_3_2_9> Expose MQ App APIs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Expose MQ App APIs" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_9> <span class="md-nav__icon md-icon"></span> Expose MQ App APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deploy-apic/ class=md-nav__link> Deploy API Connect </a> </li> <li class=md-nav__item> <a href=../configure-apic/ class=md-nav__link> Configure API Connect </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Publish APIs <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Publish APIs </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#review-the-spring-mq-application class=md-nav__link> Review the Spring MQ Application </a> </li> <li class=md-nav__item> <a href=#swagger-and-openapi class=md-nav__link> Swagger and OpenAPI </a> </li> <li class=md-nav__item> <a href=#ibm-api-connect-api-manager class=md-nav__link> IBM API Connect API Manager </a> </li> <li class=md-nav__item> <a href=#links class=md-nav__link> Links </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../consume-apis/ class=md-nav__link> Consume APIs </a> </li> <li class=md-nav__item> <a href=../monitor-apis/ class=md-nav__link> Monitor APIs </a> </li> <li class=md-nav__item> <a href=../promote-apis/ class=md-nav__link> Promote APIs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_10 type=checkbox id=__nav_4_3_2_10> <label class=md-nav__link for=__nav_4_3_2_10> Architecture Decisions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Architecture Decisions" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_10> <span class="md-nav__icon md-icon"></span> Architecture Decisions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ad/ class=md-nav__link> Decision Index </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3 type=checkbox id=__nav_4_3_3> <label class=md-nav__link for=__nav_4_3_3> IBM API Connect <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM API Connect" data-md-level=3> <label class=md-nav__title for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> IBM API Connect </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/overview/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_2 type=checkbox id=__nav_4_3_3_2> <label class=md-nav__link for=__nav_4_3_3_2> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_2> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/cluster-create/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_3 type=checkbox id=__nav_4_3_3_3> <label class=md-nav__link for=__nav_4_3_3_3> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_3> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/cluster-config/gitops-tekton-argocd/ class=md-nav__link> GitOps, Tekton & ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../apic/cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> <li class=md-nav__item> <a href=../../../apic/cluster-config/applications/ class=md-nav__link> Application components </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_4 type=checkbox id=__nav_4_3_3_4> <label class=md-nav__link for=__nav_4_3_3_4> Deploy APIC <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Deploy APIC" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_4> <span class="md-nav__icon md-icon"></span> Deploy APIC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/deployment/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_5 type=checkbox id=__nav_4_3_3_5> <label class=md-nav__link for=__nav_4_3_3_5> Configure APIC <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure APIC" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_5> <span class="md-nav__icon md-icon"></span> Configure APIC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/configuration/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_6 type=checkbox id=__nav_4_3_3_6> <label class=md-nav__link for=__nav_4_3_3_6> Publish APIs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Publish APIs" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_6> <span class="md-nav__icon md-icon"></span> Publish APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/publish/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_4 type=checkbox id=__nav_4_3_4> <label class=md-nav__link for=__nav_4_3_4> IBM API Connect Multi-Cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM API Connect Multi-Cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_3_4> <span class="md-nav__icon md-icon"></span> IBM API Connect Multi-Cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/multi-cluster/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../apic/multi-cluster/create-clusters/ class=md-nav__link> Create the cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_4_3 type=checkbox id=__nav_4_3_4_3> <label class=md-nav__link for=__nav_4_3_4_3> Configure the clusters <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the clusters" data-md-level=4> <label class=md-nav__title for=__nav_4_3_4_3> <span class="md-nav__icon md-icon"></span> Configure the clusters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../apic/multi-cluster/configure-clusters-gitops/ class=md-nav__link> GitOps repos & ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../apic/multi-cluster/configure-clusters-gitops-config/ class=md-nav__link> Configure GitOps repos </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../apic/multi-cluster/deploy/ class=md-nav__link> Deploy APIC </a> </li> <li class=md-nav__item> <a href=../../../apic/multi-cluster/config-pipeline/ class=md-nav__link> Configure APIC </a> </li> <li class=md-nav__item> <a href=../../../apic/multi-cluster/publish-pipeline/ class=md-nav__link> Publish APIs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_5 type=checkbox id=__nav_4_3_5> <label class=md-nav__link for=__nav_4_3_5> Event-Driven Architecture <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Event-Driven Architecture" data-md-level=3> <label class=md-nav__title for=__nav_4_3_5> <span class="md-nav__icon md-icon"></span> Event-Driven Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../eda/link/ class=md-nav__link> EDA GitOps Solution </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> Cloud Pak for Security <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Security" data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Cloud Pak for Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/using/this-guide/ class=md-nav__link> The CP4S tutorial </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/overview/architecture/ class=md-nav__link> CP4S architecture </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-create/ibm-setup/ class=md-nav__link> Create the cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_4 type=checkbox id=__nav_4_4_4> <label class=md-nav__link for=__nav_4_4_4> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_4_4> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/gitops-tekton-argocd/ class=md-nav__link> Set up GitOps </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/gitops-config/ class=md-nav__link> Add infrastructure </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/services/ class=md-nav__link> Add services </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/backup-recovery-upgrade/ class=md-nav__link> Managing Lifecycle for CP4S </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/connect-datasources/ class=md-nav__link> Connecting DataSources for CP4S </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Cloud Pak for Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Data" data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/platform/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_2 type=checkbox id=__nav_4_5_2> <label class=md-nav__link for=__nav_4_5_2> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_5_2> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/cluster-create/ibm-setup/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_3 type=checkbox id=__nav_4_5_3> <label class=md-nav__link for=__nav_4_5_3> Configure the Cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the Cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_5_3> <span class="md-nav__icon md-icon"></span> Configure the Cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/cluster-config/gitops-argocd/ class=md-nav__link> GitOps and ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../../cp4d/cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../cp4d/platform/deployment/ class=md-nav__link> Deployment </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_5 type=checkbox id=__nav_4_5_5> <label class=md-nav__link for=__nav_4_5_5> Services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Services data-md-level=3> <label class=md-nav__title for=__nav_4_5_5> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_5_1 type=checkbox id=__nav_4_5_5_1> <label class=md-nav__link for=__nav_4_5_5_1> Watson Studio <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Watson Studio" data-md-level=4> <label class=md-nav__title for=__nav_4_5_5_1> <span class="md-nav__icon md-icon"></span> Watson Studio </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/watson-studio/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../cp4d/watson-studio/deployment/ class=md-nav__link> Deployment </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_5_2 type=checkbox id=__nav_4_5_5_2> <label class=md-nav__link for=__nav_4_5_5_2> Watson Knowledge Catalog <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Watson Knowledge Catalog" data-md-level=4> <label class=md-nav__title for=__nav_4_5_5_2> <span class="md-nav__icon md-icon"></span> Watson Knowledge Catalog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/wkc/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../cp4d/wkc/deployment/ class=md-nav__link> Deployment </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6 type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6> Cloud Pak for Automation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Automation" data-md-level=2> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Cloud Pak for Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1 type=checkbox id=__nav_4_6_1> <label class=md-nav__link for=__nav_4_6_1> IBM Process Mining <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM Process Mining" data-md-level=3> <label class=md-nav__title for=__nav_4_6_1> <span class="md-nav__icon md-icon"></span> IBM Process Mining </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/overview/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/using/this-guide/ class=md-nav__link> Using this guide </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1_3 type=checkbox id=__nav_4_6_1_3> <label class=md-nav__link for=__nav_4_6_1_3> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_6_1_3> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/cluster-create/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1_4 type=checkbox id=__nav_4_6_1_4> <label class=md-nav__link for=__nav_4_6_1_4> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_6_1_4> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/cluster-config/gitops-tekton-argocd/ class=md-nav__link> GitOps & ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1_5 type=checkbox id=__nav_4_6_1_5> <label class=md-nav__link for=__nav_4_6_1_5> Deploy Process Mining <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Deploy Process Mining" data-md-level=4> <label class=md-nav__title for=__nav_4_6_1_5> <span class="md-nav__icon md-icon"></span> Deploy Process Mining </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/deployment/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=References data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/ad/ class=md-nav__link> Architectural Decisions </a> </li> <li class=md-nav__item> <a href=../../../../../references/prerequisites/instructions/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../../../references/training/training/ class=md-nav__link> Training </a> </li> <li class=md-nav__item> <a href=../../../../../references/restorecluster/gitops-restore-cluster/ class=md-nav__link> Restore cluster from GitOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../overview/whats-new/ class=md-nav__link> What's New </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Contributing Content <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Contributing Content" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Contributing Content </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../contribute/githubflow/ class=md-nav__link> GitHub Open Source Contribution Steps </a> </li> <li class=md-nav__item> <a href=../../../../../contribute/documentation/ class=md-nav__link> Running a Local Site Instance </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#review-the-spring-mq-application class=md-nav__link> Review the Spring MQ Application </a> </li> <li class=md-nav__item> <a href=#swagger-and-openapi class=md-nav__link> Swagger and OpenAPI </a> </li> <li class=md-nav__item> <a href=#ibm-api-connect-api-manager class=md-nav__link> IBM API Connect API Manager </a> </li> <li class=md-nav__item> <a href=#links class=md-nav__link> Links </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.ibm.com/cloudpakbringup/production-deployment-guides/edit/master/docs/guides/cp4i/mq/apic/publish-apis.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=publish-application-apis-to-ibm-api-connect>Publish Application APIs to IBM API Connect<a class=headerlink href=#publish-application-apis-to-ibm-api-connect title="Permanent link">&para;</a></h1> <!--- cSpell:ignore Codegen openapi SpringFox mailtrap apic APIC Subscribability OIDC --> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>In this section you are going to:</p> <ol> <li>Review the Spring MQ application APIs, services and routes.</li> <li>Import MQ application APIs definition into IBM API Connect API Manager.</li> <li>Publish MQ application APIs definition into the development catalog of your Provider Organization to securely expose it through the IBM API Connect Gateway Service associated to it.</li> <li>Socialize and consume the MQ application APIs through the IBM API Connect Developer Portal for your development catalog.</li> </ol> <p><img alt="MQ Publish API Draw.io" src=../images/mq-publish-api.drawio.png style=max-height:700px></p> <h2 id=review-the-spring-mq-application>Review the Spring MQ Application<a class=headerlink href=#review-the-spring-mq-application title="Permanent link">&para;</a></h2> <p>In the previous <a href=../../app-pipeline/topic1/ >Build MQ application</a> section of this tutorial, you went through the steps to get a Spring based Java application that consumes messaging services provided by an MQ queue manager server deployed. If you recall, the application being deployed by the Tekton pipelines is what is defined in <code>multi-tenancy-gitops-apps/mq/environments/dev/mq-spring-app/kustomization.yaml</code>:</p> <div class="no-copy highlight"><pre><span></span><code><span class=nt>resources</span><span class=p>:</span><span class=w></span>
<span class=w> </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">../../base/mq-spring-app</span><span class=w></span>
<span class=w> </span><span class=c1># ... omitted ...</span><span class=w></span>
<span class=nt>patchesStrategicMerge</span><span class=p>:</span><span class=w></span>
<span class=w> </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mq-spring-app/deployment.yaml</span><span class=w></span>
</code></pre></div> <p>As you already know, what the above means is that the Spring MQ Application deployment artifacts are defined within <code>multi-tenancy-gitops-apps/mq/environments/base/mq-spring-app</code> and these are updated or customized by the <code>multi-tenancy-gitops-apps/mq/environments/dev/mq-spring-app/mq-spring-app/deployment.yaml</code> overlay which points to the resulting Docker image built by the Tekton pipeline with the latest code of the Spring MQ Application.</p> <p>If you inspect <code>multi-tenancy-gitops-apps/mq/environments/base/mq-spring-app</code> you should find an OpenShift service and route that are created with the Spring MQ Application deployment so that it is reachable and accessible from within and outside the cluster:</p> <div class="no-copy highlight"><pre><span></span><code>multi-tenancy-gitops-apps/mq/environments/base/mq-spring-app
├── deployment.yaml
├── jaegerconfigmap.yaml
├── kustomization.yaml
<span class=hll>├── route.yaml
</span><span class=hll>├── service.yaml
</span>└── serviceaccount.yaml
</code></pre></div> <p>You can inspect that OpenShift service and route with:</p> <div class=highlight><pre><span></span><code>oc describe service mq-spring-app -n dev
oc describe route mq-spring-app -n dev
</code></pre></div> <p>And, as you already saw earlier, you can check the status of your application by using its OpenShift route and service above to reach the Spring MQ Application:</p> <div class=highlight><pre><span></span><code><span class=nb>export</span> <span class=nv>APP_URL</span><span class=o>=</span><span class=k>$(</span>oc get route -n dev mq-spring-app -o <span class=nv>jsonpath</span><span class=o>=</span><span class=s2>&quot;{.spec.host}&quot;</span><span class=k>)</span>
curl -X GET https://<span class=nv>$APP_URL</span>/actuator/health
</code></pre></div> <p>where you should see a similar output than:</p> <div class="no-copy highlight"><pre><span></span><code><span class=p>{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>,</span><span class=nt>&quot;components&quot;</span><span class=p>:{</span><span class=nt>&quot;HeathEndPointMain&quot;</span><span class=p>:{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>},</span><span class=nt>&quot;diskSpace&quot;</span><span class=p>:{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>,</span><span class=nt>&quot;details&quot;</span><span class=p>:{</span><span class=nt>&quot;total&quot;</span><span class=p>:</span><span class=mi>105552732160</span><span class=p>,</span><span class=nt>&quot;free&quot;</span><span class=p>:</span><span class=mi>66972737536</span><span class=p>,</span><span class=nt>&quot;threshold&quot;</span><span class=p>:</span><span class=mi>10485760</span><span class=p>,</span><span class=nt>&quot;exists&quot;</span><span class=p>:</span><span class=kc>true</span><span class=p>}},</span><span class=nt>&quot;jms&quot;</span><span class=p>:{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>,</span><span class=nt>&quot;details&quot;</span><span class=p>:{</span><span class=nt>&quot;provider&quot;</span><span class=p>:</span><span class=s2>&quot;IBM MQ JMS Provider&quot;</span><span class=p>}},</span><span class=nt>&quot;livenessState&quot;</span><span class=p>:{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>},</span><span class=nt>&quot;ping&quot;</span><span class=p>:{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>},</span><span class=nt>&quot;readinessState&quot;</span><span class=p>:{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>}},</span><span class=nt>&quot;groups&quot;</span><span class=p>:[</span><span class=s2>&quot;liveness&quot;</span><span class=p>,</span><span class=s2>&quot;readiness&quot;</span><span class=p>]}</span><span class=w></span>
</code></pre></div> <p>Now, as you also saw in the Spring MQ Application section of this tutorial, this application exposes a REST interface, making it easy to consume by other applications and services both inside and outside the cluster. More precisely, it exposes the following REST services endpoints:</p> <ul> <li><code>/api/send-hello-world</code> - puts a default <em>'Hello World!'</em> message to a queue.</li> <li><code>/api/recv</code> - gets a message from the queue.</li> <li><code>/api/send-json</code> - puts a JSON message to a queue.</li> <li><code>/api/send-to-queue</code> - puts a <em>'Hello World!'</em> message to the queue specified as parameter.</li> <li><code>/health</code> - checks the application is running.</li> </ul> <p>Similarly to the check you made above, you can check some of these services too:</p> <p><div class=highlight><pre><span></span><code>curl -X GET https://<span class=nv>$APP_URL</span>/health    
</code></pre></div> <div class="no-copy highlight"><pre><span></span><code><span class=p>{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;UP&quot;</span><span class=p>}</span><span class=w></span>
</code></pre></div> <div class=highlight><pre><span></span><code>curl -X GET https://<span class=nv>$APP_URL</span>/api/recv
</code></pre></div> <div class="no-copy highlight"><pre><span></span><code><span class=p>{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;OK&quot;</span><span class=p>,</span><span class=nt>&quot;statusMessage&quot;</span><span class=p>:</span><span class=s2>&quot;Successfully received record from MQ&quot;</span><span class=p>,</span><span class=nt>&quot;data&quot;</span><span class=p>:</span><span class=s2>&quot;Hello World!&quot;</span><span class=p>}</span><span class=w></span>
</code></pre></div> <div class=highlight><pre><span></span><code>curl -X GET https://<span class=nv>$APP_URL</span>/api/send-hello-world
</code></pre></div> <div class="no-copy highlight"><pre><span></span><code><span class=p>{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;OK&quot;</span><span class=p>,</span><span class=nt>&quot;statusMessage&quot;</span><span class=p>:</span><span class=s2>&quot;Successfully sent record to MQ&quot;</span><span class=p>,</span><span class=nt>&quot;data&quot;</span><span class=p>:</span><span class=s2>&quot;Hello World!&quot;</span><span class=p>}</span><span class=w></span>
</code></pre></div></p> <p>And these Spring MQ Application services are the APIs you want to get published in your IBM API Connect instance in order to securely socialize and expose them.</p> <h2 id=swagger-and-openapi>Swagger and OpenAPI<a class=headerlink href=#swagger-and-openapi title="Permanent link">&para;</a></h2> <p><a href=https://swagger.io/ >Swagger</a> started out as a simple, open source specification for designing RESTful APIs in 2010. Open source tooling like the <a href=https://swagger.io/tools/swagger-ui/ >Swagger UI</a>, <a href=https://swagger.io/tools/swagger-editor/ >Swagger Editor</a> and the <a href=https://swagger.io/tools/swagger-codegen/ >Swagger Codegen</a> were also developed to better implement and visualize APIs defined in the specification. The Swagger project, consisting of the specification and the open source tools, became immensely popular, creating a massive ecosystem of community driven tools. In 2015, the Swagger project was acquired by SmartBear Software. <a href=https://swagger.io/specification/ >The Swagger Specification</a> was donated to the Linux foundation and renamed <a href=https://spec.openapis.org/oas/v3.1.0>The OpenAPI Specification</a>.</p> <p>The OpenAPI Specification (OAS) defines a standard, programming language-agnostic interface description for HTTP APIs, which allows both humans and computers to discover and understand the capabilities of a service without requiring access to source code, additional documentation, or inspection of network traffic. When properly defined via OpenAPI, a consumer can understand and interact with the remote service with a minimal amount of implementation logic. Similar to what interface descriptions have done for lower-level programming, the OpenAPI Specification removes guesswork in calling a service.</p> <p><a href=https://www.openapis.org/ >The OpenAPI Initiative</a> was created to guide the development of The OpenAPI Specification in an open and transparent manner.</p> <p><img alt="Swagger & OpenAPI" src=../images/swagger-openapi.png style=max-height:300px></p> <p>As introduced in the paragraphs above, it is essential to have proper specifications for the back-end APIs. At the same time, the API documentation should be informative, readable, and easy to follow. Moreover, reference documentation should simultaneously describe every change in the API. Accomplishing this manually is a tedious exercise, so automation of the process is more than desirable.</p> <p>In this tutorial, you have looked at Swagger 2 for the Spring MQ Application REST web services, using the SpringFox implementation of the Swagger 2 specification. You can see that by checking the <a href=https://maven.apache.org/ >Maven</a> dependencies for the Spring MQ Application in its <code>pom.xml</code> file under the <code>mq-spring-app</code> folder:</p> <div class="no-copy highlight"><pre><span></span><code><span class=cm>&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;</span>
<span class=nt>&lt;dependency&gt;</span>
    <span class=nt>&lt;groupId&gt;</span>io.springfox<span class=nt>&lt;/groupId&gt;</span>
    <span class=nt>&lt;artifactId&gt;</span>springfox-swagger2<span class=nt>&lt;/artifactId&gt;</span>
    <span class=nt>&lt;version&gt;</span>2.9.2<span class=nt>&lt;/version&gt;</span>
<span class=nt>&lt;/dependency&gt;</span>
<span class=cm>&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;</span>
<span class=nt>&lt;dependency&gt;</span>
    <span class=nt>&lt;groupId&gt;</span>io.springfox<span class=nt>&lt;/groupId&gt;</span>
    <span class=nt>&lt;artifactId&gt;</span>springfox-swagger-ui<span class=nt>&lt;/artifactId&gt;</span>
    <span class=nt>&lt;version&gt;</span>2.9.2<span class=nt>&lt;/version&gt;</span>
<span class=nt>&lt;/dependency&gt;</span>
</code></pre></div> <p>The <a href=http://springfox.github.io/springfox/ >SpringFox</a> suite of java libraries are all about automating the generation of machine and human readable specifications for JSON APIs written using the spring family of projects. SpringFox works by examining an application, once, at runtime to infer API semantics based on spring configurations, class structure and various compile time java Annotations. Annotations that you have added to the Spring MQ Application to enrich the API documentation that Swagger will auto-generate for us. You can find those annotations in the Spring MQ Application code at the controller layer in <code>mq-spring-app/src/main/java/com/ibm/mqclient/controller/MQClientController.java</code>. </p> <p>This is an example of the Swagger annotations for the <code>/api/send-hello-world</code> rest service:</p> <div class="no-copy highlight"><pre><span></span><code><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&quot;/api/send-hello-world&quot;</span><span class=p>)</span>
<span class=hll><span class=nd>@ApiOperation</span><span class=p>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&quot;Put a hello world message on the MQ queue.&quot;</span><span class=p>,</span> <span class=n>notes</span> <span class=o>=</span> <span class=s>&quot;This api puts a hello world text message on the MQ queue.&quot;</span><span class=p>)</span>
</span><span class=hll><span class=nd>@ApiResponses</span><span class=p>(</span><span class=n>value</span> <span class=o>=</span> <span class=p>{</span><span class=nd>@ApiResponse</span><span class=p>(</span><span class=n>code</span> <span class=o>=</span> <span class=mi>200</span><span class=p>,</span> <span class=n>message</span> <span class=o>=</span> <span class=s>&quot;Successfully put message on queue.&quot;</span><span class=p>),</span> <span class=nd>@ApiResponse</span><span class=p>(</span><span class=n>code</span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span> <span class=n>message</span> <span class=o>=</span> <span class=s>&quot;Error putting message on queue.&quot;</span><span class=p>)})</span>    
</span><span class=n>ResponseData</span> <span class=nf>send</span><span class=p>()</span> <span class=p>{</span>
    <span class=n>String</span> <span class=n>dataSentToQueue</span> <span class=o>=</span> <span class=n>mqService</span><span class=p>.</span><span class=na>sendHelloWorld</span><span class=p>();</span>
    <span class=n>ResponseData</span> <span class=n>responseData</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ResponseData</span><span class=p>(</span><span class=s>&quot;OK&quot;</span><span class=p>,</span> <span class=s>&quot;Successfully sent record to MQ&quot;</span><span class=p>,</span> <span class=n>dataSentToQueue</span><span class=p>);</span>
    <span class=k>return</span> <span class=n>responseData</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> <p>So now, you know what is Swagger, OpenAPI and their specifications in order to formally standardize the way REST APIs are described to allow both humans and computers to discover and understand the capabilities of their services. You have also seen how to integrate tools like SpringFox, that helps you automating the generation of machine and human readable specifications for APIs, into your Spring application. However, you have not yet seen those API definitions document. And you are going to access those through the Swagger UI, whose Maven dependency has been added to the <code>pom.xml</code> file, as you can see above, in order to be able for your Spring MQ Application to make use of it. </p> <p>Swagger UI allows anyone — be it your development team or your end consumers — to visualize and interact with the API’s resources without having any of the implementation logic in place. It’s automatically generated from your OpenAPI (formerly known as Swagger) Specification, with the visual documentation making it easy for back end implementation and client side consumption.</p> <p>In order to access the Spring MQ Application Swagger UI, you only need to point your browser to your Spring MQ Application OpenShift route to reach the context route of it, which Spring will automatically redirect you to the Swagger UI (<code>/swagger-ui.html</code>):</p> <p><img alt="Swagger UI" src=../images/swagger-ui-1.png style=max-height:500px></p> <p>Remember you can get your Spring MQ Application OpenShift route with</p> <div class=highlight><pre><span></span><code><span class=nv>APP_URL</span><span class=o>=</span><span class=k>$(</span>oc get route -n dev mq-spring-app -o <span class=nv>jsonpath</span><span class=o>=</span><span class=s2>&quot;{.spec.host}&quot;</span><span class=k>)</span><span class=p>;</span> <span class=nb>echo</span> <span class=s2>&quot;https://</span><span class=nv>$APP_URL</span><span class=s2>&quot;</span>
</code></pre></div> <p>If you expand the <code>mq-client-controller</code> section, you should be able to see the REST API services defined in that Java class from your Spring MQ Application as you saw in its code earlier.</p> <p><img alt="Swagger UI" src=../images/swagger-ui-2.png style=max-height:700px></p> <p>You can already see how powerful is to have well documented APIs since you can see at a glance what your application exposed services are and what these are meant to accomplish. In this case, you Spring MQ Application is a demo application that does not expose many services and, overall, you are only running and managing one application. As you can imagine, this gets very complicated, despite well documented APIs, when you are running tens or even hundreds of applications (or microservices) all of them exposing services. And here is where having an API management system, such as IBM API Connect, not only starts to make sense but also becomes critical. Even more so if you want to have certain security and governance on top of all those services your applications and/or microservices expose.</p> <p>Let's see what else Swagger, through SpringFox, has done for you and what capabilities this Swagger UI provides us...</p> <p>First, let's check the status of your queue manager:</p> <p><img alt=QM src=../images/qm-1.png style=max-height:900px></p> <p>At this moment, it does not contain any message in any of the queues (it does not matter if yours contain messages, just remember this state before playing with the APIs). Let's try to send a new <em>"Hello World!"</em> message to the <code>IBM.DEMO.Q</code> queue. For that, click on the <code>/api/send-hello-world</code> API to expand it.</p> <p><img alt="Swagger UI" src=../images/swagger-ui-3.png style=max-height:700px></p> <p>You can see the documentation for this API with a description of what the API does (it is not a very long and detailed description since it is a very simple dummy demo API. However, this description could be as long and detailed as your service might require), what are the parameters it needs to be provided and the possible responses from the service.</p> <p>What is also very interesting from the testing point of view that Swagger UI offers out of the box is the possibility to try out the APIs through the <code>Try it out</code> button. Click on that button.</p> <p><img alt="Swagger UI" src=../images/swagger-ui-4.png style=max-height:700px></p> <p>In this case it seems like it only provides you with the <code>Execute</code> button but, in fact, it would have provided you with a text box also if this API required/expected any parameters (you can check it out later with the <code>/api/send-to-queue</code> API). Click on execute.</p> <p>Once Swagger UI has executed the API call for you, you will be presented on the <code>Responses</code> section with:</p> <ol> <li>The <code>Curl</code> command used for the API call execution</li> <li>The <code>Request URL</code></li> <li>And the <code>Server response</code> which contains the <code>Code</code>, <code>Response body</code> and <code>Response header</code></li> </ol> <p><img alt="Swagger UI" src=../images/swagger-ui-5.png style=max-height:1200px></p> <p>Let's check the queue manager to make sure Swagger UI has successfully executed the expected API call.</p> <p>You should see a new message in your message queue of your queue manager which means that Swagger UI has, indeed, successfully executed the expected API call. As a result, Swagger UI does not only serve to visualize the documentation of your application APIs but also a testing tool for these.</p> <p><img alt=QM src=../images/qm-2.png style=max-height:900px></p> <p>You can now try to receive/read the message you have just sent by executing the <code>api/recv</code> API:</p> <p><img alt="Swagger UI" src=../images/swagger-ui-6.png style=max-height:1200px></p> <p><img alt=QM src=../images/qm-3.png style=max-height:900px></p> <p>Finally, the one last thing you are going to see in this Swagger and OpenAPI section is the actual Spring MQ Application APIs documentation that Swagger, through SpringFox, has built for you. Swagger exposes such documentation through your application's <code>/v2/api-docs</code> endpoint. You are also presented with the full url for retrieving your application's Swagger documentation at the top of your Swagger UI:</p> <p><img alt="Swagger UI" src=../images/swagger-ui-7.png style=max-height:700px></p> <p>Click on that link to see the document.</p> <p><img alt="Swagger UI" src=../images/swagger-ui-8.png style=max-height:400px></p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>For a prettier display of the document, you can use Firefox (that prettifies JSON objects) or you can use <a href=https://stedolan.github.io/jq/ >jq</a> on your terminal:</p> <div class=highlight><pre><span></span><code>curl -X GET https://<span class=nv>$APP_URL</span>/v2/api-docs <span class=p>|</span> jq .
</code></pre></div> </div> <p>Make sure you save this document into a file in your local workstation. You will use it in the following section to get it imported into your IBM API Connect instance. You can save it by executing:</p> <div class=highlight><pre><span></span><code>curl -X GET https://<span class=nv>$APP_URL</span>/v2/api-docs &gt; mq-spring-app-swagger.json
</code></pre></div> <h2 id=ibm-api-connect-api-manager>IBM API Connect API Manager<a class=headerlink href=#ibm-api-connect-api-manager title="Permanent link">&para;</a></h2> <p>The following diagram shows a high level overview of the sequence an organization would go through for getting IBM API Connect at the heart of its API management strategy:</p> <p><img alt="APIC Sequence" src=../images/apic-sequence.png style=max-height:900px></p> <p>where</p> <ol> <li>The Cloud Administrator manages the IT functions of the enterprise including deployment and configuration of the API Connect cluster and topology. They monitor the health of the cluster and manage provider organizations.</li> <li>An API developer uses the API developer toolkit (or the API Manager user interface) to create APIs, implement the business logic, integrate the API to back-end services and publish these artifacts to the API Management subsystems in relevant test, QA, or production environments, preferably using a DevOps pipeline.</li> <li>An API Administrator, or Provider Organization Owner, uses the API management cloud services to create API products and plans and specifies access control roles. The APIs are then published to the developer portal for external discovery and consumption by application developers.</li> <li>An application developer logs in to the developer portal to search and discover APIs, creates an application (microservice or mobile App), that uses the APIs.</li> <li>An end-user of the application starts a process that invokes a managed API. The request is handled by the API gateway, which performs load balancing and security validation. It also enforces access policies specified by API Management before invoking the API. Most API endpoints are configured to integrate with enterprise backend systems. The API Gateway calls the backend on behalf of the API and returns the response to the calling application.</li> <li>The API gateway reports usage metrics and analytics to the Analytics subsystem. API developers can view application-specific analytics within the Developer Portal and Provider Organization Owners use the analytics visualization component in API Manager to view API usage metrics across the entire organization.</li> </ol> <p>So far you have completed step number 1. Now, let's have a look at how to complete the rest of the steps.</p> <p>Let's see how can you create APIs in your IBM API Connect API Manager for your Spring MQ Application by using its OpenAPI compliant APIs definition you grabbed and stored in the previous section above, which was automatically generated by Swagger as already explained. </p> <p>First, open up your IBM API Connect API Manager web console by pointing your browser to its url which you can retrieve with:</p> <div class=highlight><pre><span></span><code>oc get apiconnectcluster &lt;APIC_NAME&gt; -n &lt;PROJECT&gt; -o<span class=o>=</span><span class=nv>jsonpath</span><span class=o>=</span><span class=s1>&#39;{.status.endpoints[?(@.name==&quot;ui&quot;)].uri}&#39;</span>
</code></pre></div> <p>where <code>&lt;APIC_NAME&gt;</code> is the name of your IBM API Connect Cluster instance and <code>&lt;PROJECT&gt;</code> is the RedHat OpenShift Project where it is deployed (review the <a href=../deploy-apic/#ibm-api-connect-endpoints>IBM API Connect Endpoints section</a> for more details).</p> <p>If you have not logged into your IBM Cloud Pak Platform Navigator, you will be requested to do so first:</p> <p><img alt="cpd login" src=../images/cpd-login.png style=max-height:700px></p> <p>Select <code>IBM provided credentials (admin only)</code> to log in with the IBM Cloud Pak Common Services administrator OIDC credentials that were created when installing the IBM Cloud Pak Foundational Services as a result of installing IBM Message Queue and IBM Cloud Pak Platform Navigator. To retrieve such credentials execute:</p> <div class=highlight><pre><span></span><code>oc extract -n ibm-common-services secrets/platform-auth-idp-credentials --keys<span class=o>=</span>admin_username,admin_password --to<span class=o>=</span>-
</code></pre></div> <p><img alt="cpd credentials" src=../images/cpd-credentials.png style=max-height:700px></p> <p>If you had logged into your IBM Cloud Pak Platform Navigator recently, you would get to the IBM API Connect API Manager login page directly.</p> <p>You will use your <code>Provider Organization Owner</code> user that exists in the <code>API Manager User Registry</code>. Therefore, click on the <code>API Manager User Registry</code> button.</p> <p><img alt="API Manager" src=../images/api-manager-login-1.png style=max-height:1000px></p> <p>You will be prompted to provide the credentials for the <code>Provider Organization Owner</code>. Use the <code>Username</code> and <code>Password</code> you set when creating the <code>Provider Organization Owner</code>:</p> <p><img alt="API Manager" src=../images/api-manager-login-2.png style=max-height:1100px></p> <p>Once you successfully get authenticated, you should get to the IBM API Connect API Manager dashboard. </p> <p><img alt="API Manager" src=../images/api-manager-2.png style=max-height:1000px></p> <p>From your IBM API Connect API Manager dashboard, select <code>Manage catalogs</code>. You should see there is a default <code>Sandbox</code> catalog.</p> <p><img alt="API Manager" src=../images/api-manager-3.png style=max-height:600px></p> <p>However, you prefer to create a more meaningful catalog for the work you are doing at the moment which is developing your APIs (not developing per se, since these are already created in your Spring MQ Application but creating these in your IBM API Connect API Manager). So let's create a <code>dev</code> catalog. Click on the <code>Add</code> button at the top right corner and then select <code>Create catalog</code>.</p> <p>In the form you are presented with, select the <code>po-admin</code> user (in fact, you can not select any other user since there should not be any other user) in order to create your new catalog. Then provide <code>dev</code> as the name for your new catalog.</p> <p><img alt="API Manager" src=../images/api-manager-4.png style=max-height:700px></p> <p>You should now see your <code>dev</code> catalog as well</p> <p><img alt="API Manager" src=../images/api-manager-5.png style=max-height:600px></p> <p>Click on the <code>dev</code> catalog and then on the <code>Catalog settings</code> tab on the bar at the top. Then, click on the <code>Gateway services</code> section on the left hand side menu. In here, you should see the Gateway service the IBM API Connect post install configuration automation had already configured for you when you visited your IBM API Connect Cloud Topology in the previous section of this tutorial. That Gateway service the IBM API Connect Operator had deployed and that the later post install configuration automation, since you are installing IBM API Connect as a capability part of your IBM Cloud Pak for Integration, had registered in your IBM API Connect Cloud Topology is set as the default Gateway service that any API published to your <code>dev</code> catalog will get published to and therefore exposed through. And you can also see the <code>URL</code> for the Gateway service for your <code>dev</code> catalog in there. That <code>URL</code> will allow you to reach, in a secure manner, your Spring MQ Application APIs.</p> <p><img alt="API Manager" src=../images/api-manager-6.png style=max-height:800px></p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Have a closer look to the Gateway Services <code>URL</code> value for your <code>dev</code> catalog which will be the endpoint all your APIs published to the <code>dev</code> catalog will be accessed through. It follows the pattern:</p> <div class="no-copy highlight"><pre><span></span><code>https://&lt;gateway_service_route&gt;/&lt;provider_organization&gt;/&lt;catalog&gt;
</code></pre></div> <p>This is how IBM API Connect will separate and segregate APIs within your API Cloud.</p> </div> <p>Go back to your IBM API Connect API Manager dashboard by clicking on the home icon on the left hand side menu and click on <code>Develop APIs and products</code>.</p> <p><img alt="API Manager" src=../images/api-manager-7.png style=max-height:500px></p> <p>As you have probably guessed, there is no API already created in your <code>dev</code> catalog. Click on the <code>Add</code> button at the top right corner and select <code>API (from REST, GraphQL or SOAP)</code> option.</p> <p>In the following screen, you can see the many different options you have for creating/importing a new API as well as the possibility to create/import such API following either the <code>OpenAPI 2.0</code> or the <code>OpenAPI 3.0</code> API definition Specification. In your case, you will stick to the <code>OpenAPI 2.0</code> option since Swagger created an <code>OpenAPI 2.0</code> compliant API definition file (remember it started with <code>"swagger": "2.0"</code>). Then, you will select the option <code>From existing OpenAPI service</code> under the <code>Create section</code>. Then, click <code>Next</code>.</p> <p><img alt="API Manager" src=../images/api-manager-8.png style=max-height:1000px></p> <p>In the following step, you are presented with the option to upload your OpenAPI definition file.</p> <p><img alt="API Manager" src=../images/api-manager-9.png style=max-height:600px></p> <p>Drag and drop, or use the link to upload, the OpenAPI defining your Spring MQ Application APIs you grabbed and stored in the previous section above. Click <code>Next</code>.</p> <p><img alt="API Manager" src=../images/api-manager-10.png style=max-height:700px></p> <p>Leave the <code>Title</code> presented in the form as is. You could change it if you wanted to provide better or more accurate description or name to what Swagger created for you based on your application but be aware that the rest of the tutorial will use the defaults presented in the following picture. </p> <div class="admonition info"> <p class=admonition-title>Base Path</p> <p>It is very important that you understand and follow good practices and standards for defining good API interfaces. Having a clear and good strategy for your API interfaces will help you not only to manage and understand all your APIs but also eliminate contamination issues (when two or more APIs have conflicting paths). It may seem not important at the beginning but it will become crucial as you start having tens, hundreds or even thousand APIs. An API interface is nothing but the path to it. In IBM API Connect, an API interface follows the pattern:</p> <div class=highlight><pre><span></span><code>/&lt;Provider Org&gt;/&lt;Catalog&gt;/&lt;Base Path&gt;/&lt;Path&gt; ?&lt;Query String&gt;
</code></pre></div> <p>As you can imagine, it isn't very difficult for an enterprise that runs tens or more applications that expose APIs to find themselves in the situation where two applications expose APIs with the exact same name or path. For instance, it will not be very difficult to imagine that more than one application might expose APIs such as <code>/health</code>, <code>/status</code>, <code>/info</code>, etc. </p> <p>Base Path can help you remove the above limitations more easily. Base Path is the URL prefix for all API paths, relative to the host root. Base Path is the unique name (i.e. identifier) for the API. It is strongly recommended to include the major version of the API to your Base Path. Using a good Base Path strategy will help you eliminate API path contamination issues as well as help you organize, manage and understand your APIs at a glance. </p> </div> <p>Set the <code>Base path</code> attribute for your API to <code>mq-spring-app</code> (since that is the <code>Title</code> and <code>Name</code> you are providing to your API. Again, you could use a different more meaningful names for your APIs) plus the major version for the API. That is, set your <code>Base path</code> attribute to <code>/mq-spring-app/v1</code>. Click <code>Next</code>.</p> <p><img alt="API Manager" src=../images/api-manager-11.png style=max-height:1000px></p> <p>Make sure you keep the <code>Secure using Client ID</code> option checked. This will add security to your Spring MQ Application APIs automatically by having the IBM API Connect Gateway Service, which your Spring MQ Application APIs will get exposed and accessed through, request a client ID in order to let request pass through. The client ID will be provided to your Spring MQ Application APIs consumers later on through the IBM API Connect Developer Portal, once these are registered and authorized. There are other security mechanisms your IBM API Connect Gateway Service can request and work with to secure your application APIs you can check out <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=definition-enforcing-security-requirements-api">here</a>. Leave the <a href=https://en.wikipedia.org/wiki/Cross-origin_resource_sharing><code>CORS</code></a> option also checked. Click <code>Next</code>.</p> <p><img alt="API Manager" src=../images/api-manager-12.png style=max-height:800px></p> <p>You should see successful messages for your OpenAPI 2.0 definition being successfully created as well as security successfully being applied to such definition. Click <code>Edit API</code>.</p> <p><img alt="API Manager" src=../images/api-manager-13.png style=max-height:500px></p> <p>The IBM API Connect API Manager API Editor displays.</p> <p><img alt="API Manager" src=../images/api-manager-14.png style=max-height:1100px></p> <p>You can also see your Spring MQ Application APIs OpenAPI definition code by clicking on the source button.</p> <p><img alt="API Manager" src=../images/api-manager-15.png style=max-height:1200px></p> <p>You can see that your Spring MQ Application APIs OpenAPI definition code looks pretty much like the OpenAPI definition Swagger automatically created for your Spring MQ Application APIs. However, there is a small change and few new sections added by IBM API Connect.</p> <p>You can see that the value for the <code>host</code> property has changed to <code>$(catalog.host)</code>, which is an internal variable to IBM API Connect that resolves to the catalog's OpenShift route IBM API Connect created to expose such catalog. Since your Spring MQ Application APIs OpenAPI definition will be published to a catalog, and therefore consumed through such catalog, the <code>host</code> property for those APIs has now changed to be the <code>$(catalog.host)</code> OpenShift route.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The host of the APIs being now the catalog where these are published to does not have nothing to do with such request being then handled by the IBM API Connect Gateway Services and the redirection to the appropriate service (the Spring MQ Application in this case) afterwards as you will see below </p> </div> <p>Since the host will change based on the catalog the APIs are published to and are part of, the <code>host</code> attribute gets parametrized. You saw in a previous section of this IBM API Connect subsection of the MQ in-depth tutorial that IBM API Connect will segregate per catalog.</p> <p>If you scroll down, you should see new sections on your Spring MQ Application APIs OpenAPI definition.</p> <p><img alt="API Manager" src=../images/api-manager-16.png style=max-height:1200px></p> <p>You should be able to identify the following new sections on your Spring MQ Application APIs OpenAPI definition:</p> <ul> <li><code>x-ibm-configuration</code> - which is one of the <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=file-extensions-openapi-specification">IBM extensions to the OpenAPI specification</a> specific to IBM API Connect. This extension adds additional configuration for the IBM API Connect Gateway Service in relation with your APIs definition. Within this extension, you should pay attention to the following extensions:<ul> <li><code>properties</code> - define properties for referencing in an API. You can see the <strong><code>target-url</code></strong> property that will be of vital importance on the assembly subsection below as will hold the base url where requests to any of the Spring MQ Application APIs defined in this OpenAPI definition will be redirected to.</li> <li><code>gateway</code> - specifies which type of gateway to be used.</li> <li><code>assembly</code> - describes <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=specification-execute">the application of policies and logic to an API</a>. It contains an <code>execute</code> field that contains an array of policies that are applied in order. It can contain a <code>catch</code> field that contains an array of error cases to be caught. Here you can see that the only policy or logic that will be applied to any request to any of the Spring MQ Application APIs defined in this OpenAPI definition is <strong><code>invoke</code></strong>, which simply calls an API. And that API being called is defined by the <code>target-url</code> attribute of <code>invoke</code>. This <code>target-url</code> attribute of <code>invoke</code> uses the <code>target-url</code> property explained above to redirect or make a call to <strong><code>$(target-url)$(request.path)</code></strong>. You will see what this resolves to later on.</li> </ul> </li> <li><code>Security</code> - lists all the <code>securityDefinitions</code> that are to be applied to the Spring MQ Application APIs defined in this OpenAPI definition. </li> <li><code>SecurityDefinitions</code> - describes different security definitions. As you can see, there is only one security definition called <code>clientID</code> which defines that an <code>apiKey</code> type attribute named <code>x-IBM-Client-Id</code> must be provided in the API request header. Your IBM API Connect Gateway Services will then use this <code>x-IBM-Client-Id</code> attribute for authentication and authorization purposes. You can check other API security strategies <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=SSMNED_v10cd/com.ibm.apic.toolkit.doc/tapim_sec_api_config.html">here</a>. For instance, for better security, you could also ask for the client's secret as well.</li> <li><code>schemes</code> - defines the scheme used for the request. In this case, you will require <code>https</code>.</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p><strong>The source code for your <code>mq-spring-app</code> API above will be used to promote APIs</strong> to testing, QA, production, etc environments through GitHub and automation (that is, GitOps!) so that there is no manual intervention and all objects and its changes are defined as code in GitHub and therefore are trackable and auditable. You will see this in the <a href=../promote-apis/ >Promote APIs</a> section later on.</p> </div> <p>Go back to form view again and click on the Gateway tab. </p> <p>Here you are presented with a graphical view of the <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=file-extensions-openapi-specification">IBM extensions to the OpenAPI specification</a> specific to IBM API Connect and therefore only understood by your IBM API Connect Gateway Services. Here you should be able to see all the policies and logic that will be applied to the Spring MQ Application APIs defined in this OpenAPI definition. You can use this graphical editor on a drag and drop fashion to develop more complex policies and logic for your IBM API Connect Gateway Services to apply to the incoming requests. As explained above, there will be just one policy to be applied to any of the APIs which is <code>invoke</code> and if you click on that <code>invoke</code> icon from the editor you should also see the <code>URL</code> that will be called as a result.</p> <p>Now, you already know that <code>$(target-url)</code> refers to a property defined in this OpenAPI definition. However, you know nothing about <code>$(request.path)</code> yet. If you check the <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=reference-api-connect-context-variables">API Connect context variables</a> section in the official IBM API Connect documentation, you will see that <code>request.path</code> will hold the value for the path section of the <code>request.uri</code> (i.e. full url used in the request) that starts with the base path of the API, including the <code>/</code> character that begins the base path. So, in your case, <code>$(request.path)</code> will include <code>/mq-spring-app/v1</code> which you added for a better API interface definition strategy but that will not resolve to any of your Spring MQ Application APIs. That is, if you let your IBM API Connect Gateway Service to invoke <code>http://&lt;your_internal_application_route&gt;/$(request.path)</code> you will not reach your Spring MQ Application APIs because of the Base Path in between. As a result, you need a way to strip the base path off of the <code>request.path</code> value since that has only been added for API management reasons. And there is a solution for that. If you check the <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=reference-api-connect-context-variables">API Connect context variables</a> section in the official IBM API Connect documentation again, you will find <code>api.operation.path</code> which holds the path of the operation (i.e., what comes after the base path). So that is what you need to use in your <code>invoke</code> policy. Therefore, change the <code>URL</code> value of <code>invoke</code> to be <code>$(target-url)$(api.operation.path)</code>.</p> <p><img alt="API Manager" src=../images/api-manager-17.png style=max-height:1000px></p> <p>Go to <code>Properties --&gt; target-url</code> on the left hand side.</p> <p><img alt="API Manager" src=../images/api-manager-18.png style=max-height:900px></p> <p>Here you can see and edit the <code>target-url</code> property value that will then be used by the <code>invoke</code> policy to redirect any incoming request to any of your Spring MQ Application APIs. Out of the box, as you can see in this graphical view and code view of your Spring MQ Application APIs OpenAPI definition, the value of the <code>target-url</code> property is set to the original <code>host</code> property of the OpenAPI definition Swagger initially created for you, which is the OpenShift route your Spring MQ Application is exposed through. However, that OpenShift route will disappear as it is publicly accessible (within the network where your OpenShift cluster resides) and, as said during this IBM API Connect section of the MQ tutorial, you would like to expose your Spring MQ Application APIs on a secure manner.</p> <p>Therefore, since you don't want to use externally accessible unsecured OpenShift routes and your Spring MQ Application is hosted on the same OpenShift cluster where your IBM API Connect and its subsystems (like the IBM API Connect Gateway Service) are, you can and should now use the internal OpenShift service for your Spring MQ Application. Once your Spring MQ Application APIs can be accessed through the IBM API Connect Gateway Services you can then delete your Spring MQ Application OpenShift route to have its APIs completely secured.</p> <p>You can find the service for your Spring MQ Application with</p> <div class=highlight><pre><span></span><code>oc get services -n dev
</code></pre></div> <p>which should return the following:</p> <div class="no-copy highlight"><pre><span></span><code>NAME                    TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)             AGE
<span class=hll>mq-spring-app           ClusterIP   172.21.169.15   &lt;none&gt;        80/TCP              7d4h
</span>qm1-ibm-mq              ClusterIP   172.21.107.11   &lt;none&gt;        9443/TCP,1414/TCP   7d5h
qm1-ibm-mq-metrics      ClusterIP   172.21.173.15   &lt;none&gt;        9157/TCP            7d5h
</code></pre></div> <p>Your Spring MQ Application service is called <code>mq-spring-app</code>. To make sure of the <code>selectors</code> for this service and the protocol (http/https) and <code>port</code> for the service you can do</p> <div class=highlight><pre><span></span><code>oc describe service mq-spring-app -n dev
</code></pre></div> <p>which should return something like:</p> <div class="no-copy highlight"><pre><span></span><code>Name:              mq-spring-app
Namespace:         dev
Labels:            app=dev-mq-spring-app-instance
                   app.kubernetes.io/instance=dev-mq-spring-app-instance
                   app.kubernetes.io/name=mq-spring-app
                   helm.sh/chart=mq-spring-app-0.0.13
Annotations:       &lt;none&gt;
<span class=hll>Selector:          app.kubernetes.io/instance=dev-mq-spring-app-instance,app.kubernetes.io/name=mq-spring-app
</span>Type:              ClusterIP
IP Families:       &lt;none&gt;
IP:                172.21.169.15
IPs:               172.21.169.15
<span class=hll>Port:              http  80/TCP
</span>TargetPort:        8080/TCP
Endpoints:         172.30.130.57:8080
Session Affinity:  None
Events:            &lt;none&gt;
</code></pre></div> <p>where you are able to see that the <code>selectors</code> make sense and that the protocol is <code>http</code> and the port is <code>80</code>.</p> <p>As a result, to get the <code>target-url</code> property to use the internal OpenShift service for your Spring MQ Application, you need to set its value to:</p> <div class="no-copy highlight"><pre><span></span><code>&lt;protocol&gt;://&lt;openshift-service-name&gt;.&lt;openshift-project&gt;:&lt;port&gt;
</code></pre></div> <p>which, in your case, would resolve to:</p> <div class=highlight><pre><span></span><code>http://mq-spring-app.dev:80
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Important</p> <p>The value for <code>target-url</code> might change accordingly to the environment the API you are creating to expose your Spring MQ Application APIs is developed for or deployed on. That is, the value for <code>target-url</code> might change accordingly in the API you define within IBM API Connect API Manager depending on whether such API exposes the dev, test or production Spring MQ Application instance. For instance, in your actual case where you are segregating dev, test and prod environments using RedHat OpenShift projects given the infrastructure limitations of this tutorial, the value of <code>target-url</code> will change its <code>&lt;openshift-project&gt;</code> part. However, in cases where your dev, test and prod environment are physically segregated and therefore these are completely different RedHat OpenShift clusters, the value of <code>target-url</code> might not change since the Spring MQ Application might get deployed in those environments in the same manner. Anyway, what is important here is that checks like the value of <code>&lt;openshift-project&gt;</code> in <code>target-url</code> depending on the environment you are creating/developing your API on can be and should be automated in your API promotion pipeline.</p> </div> <p>Change the <code>target-url</code> property value to be <code>http://mq-spring-app.dev:80</code></p> <p><img alt="API Manager" src=../images/api-manager-19.png style=max-height:900px></p> <p>Click Save. A successful message should appear on the top right corner of your screen.</p> <p><img alt="API Manager" src=../images/api-manager-20.png style=max-height:200px></p> <p>Switch your Spring MQ Application APIs OpenAPI definition, which has now become an IBM API Connect API called <code>mq-spring-app</code>, to online. A successful message should appear on the top right corner of your screen and your <code>mq-spring-app</code> API displays as online.</p> <p><img alt="API Manager" src=../images/api-manager-21.png style=max-height:200px></p> <p>You should also be able to see that the <code>Test</code> and <code>Endpoint</code> tabs of your <code>mq-spring-app</code> should be enabled now. This is because your <code>mq-spring-app</code> API has now been published to your IBM API Connect Gateway Service. </p> <p>Click on the <code>Endpoint</code> tab.</p> <p><img alt="API Manager" src=../images/api-manager-22.png style=max-height:1000px></p> <p>In the screen above you are seeing several interesting pieces of information such as the <code>api-gateway-service</code> <strong>url</strong> and an application credentials needed to access and test your APIs. But first, let's understand that for an API, like your <code>mq-spring-app</code> API, to be accessible there are several things that must happen first.</p> <ol> <li>Have your API created in IBM API Connect API Manager.</li> <li>Have your API published within a product into a catalog.</li> <li>Have an application created in the IBM API Connect Developer Portal that subscribes to available Product's APIs and provides users with credentials to use such APIs.</li> </ol> <p>You have just completed step number 1 when you created your <code>mq-spring-app</code> API within your IBM API Connect API Manager. Step number 2 and 3 were automatically done as part of the IBM API Connect out of the box configuration. That is, your IBM API Connect API Manager has been configured out of the box to get all newly created APIs into products (of the same name) that get published to the <code>Sandbox</code> catalog. A <code>sandbox-test-app</code> sample application that subscribes to all product's APIs of the <code>Sandbox</code> catalog is also created automatically. Because of all this out of the box IBM API Connect API Manager configuration that automated the aforementioned actions is that, as soon as you created your <code>mq-spring-app</code> API, your API got published into the <code>Sandbox</code> catalog and your are able to test it through the <code>sandbox-test-app</code>.</p> <div class="admonition warning"> <p class=admonition-title>Important</p> <p>Of course, the aforementioned out of the box configuration and automation might not be desired in certain development environments and definitely prohibited in QA and production environments. However, configuring IBM API Connect not to apply that out of the box configuration and automation is out of the scope of this tutorial.</p> </div> <p>Despite the warning above, let's take advantage of the IBM API Connect API Manager out of the box configuration and automation to give it a try and see if you can access your Spring MQ Application APIs through the IBM API Connect Gateway Service on a secure manner.</p> <p>First, let's have a closer look to the <code>api-gateway-service</code> <strong>url</strong> you are presented with in the <code>Endpoint</code> tab you can see in the picture above. More precisely, pay attention to its structure that follows the pattern:</p> <div class="no-copy highlight"><pre><span></span><code>https://&lt;ibm-apic-gateway-service-openshift-route&gt;/&lt;provider-organization&gt;/&lt;catalog&gt;/&lt;base-path&gt;
</code></pre></div> <p>You can see that:</p> <ul> <li><code>&lt;ibm-apic-gateway-service-openshift-route&gt;</code> will be the same for everyone using the same IBM API Connect Cluster instance.</li> <li><code>&lt;provider-organization&gt;</code> will segregate per Provider Organization (review the previous <a href=../configure-apic/ >Configure API Connect</a> chapter for more information).</li> <li><code>&lt;catalog&gt;</code> will segregate per Catalog.</li> <li><code>&lt;base-path&gt;</code> will segregate per OpenAPI definition (remember that an OpenAPI definition can contain multiple application APIs as it is the case for your Spring MQ Application) and major version.</li> </ul> <p>With that, let's have a try at one of your Spring MQ Application APIs. Use the following curl command to access your Spring MQ Application <code>send-hello-world</code> API from your terminal:</p> <div class=highlight><pre><span></span><code>curl -k https://&lt;api-gateway-service-url&gt;/api/send-hello-world
</code></pre></div> <p>where <code>&lt;api-gateway-service-url&gt;</code> is the <code>api-gateway-service</code> <strong>url</strong> displayed under your <code>Endpoint</code> tab as seen in the pic above.</p> <p>In our case, this curl command would be:</p> <div class="no-copy highlight"><pre><span></span><code>curl -k https://apic-cluster-gw-gateway-tools.itzroks-270005wyhs-gsvjoe-6ccd7f378ae819553d37d5f2ee142bd6-0000.eu-gb.containers.appdomain.cloud/mq-tutorial/sandbox/mq-spring-app/v1/api/send-hello-world
</code></pre></div> <p>You should get back the following response:</p> <div class="no-copy highlight"><pre><span></span><code><span class=p>{</span><span class=nt>&quot;httpCode&quot;</span><span class=p>:</span><span class=s2>&quot;401&quot;</span><span class=p>,</span><span class=nt>&quot;httpMessage&quot;</span><span class=p>:</span><span class=s2>&quot;Unauthorized&quot;</span><span class=p>,</span><span class=nt>&quot;moreInformation&quot;</span><span class=p>:</span><span class=s2>&quot;Invalid client id or secret.&quot;</span><span class=p>}</span><span class=w></span>
</code></pre></div> <p>As the message itself explains, the reason why you are not able to access your Spring MQ Application <code>send-hello-world</code> API is that you are not authorized. And the reason why you are not authorized is that you are not providing your application's <code>Client ID</code> in the header of the request as a parameter called <code>X-IBM-Client-Id</code> which is required as explained earlier when creating your <code>mq-spring-app</code> API from your Spring MQ Application APIs OpenAPI definition. </p> <p>Now, let's try providing the default <code>sandbox-test-app</code> sample application's <code>Client ID</code> on the request. Use the following curl command:</p> <div class=highlight><pre><span></span><code>curl -k --header <span class=s2>&quot;X-IBM-Client-Id: &lt;your-application-client-id&gt;&quot;</span> <span class=se>\</span>
        --url https://&lt;api-gateway-service-url&gt;/&lt;provider-organization&gt;/&lt;catalog&gt;/&lt;base-path&gt;/api/send-hello-world
</code></pre></div> <p>where <code>&lt;your-application-client-id&gt;</code> is the <code>sandbox-test-app</code> sample application's <code>Client ID</code> displayed under your <code>Endpoint</code> tab as seen in the pic above.</p> <p>In our case, this curl command would be:</p> <div class="no-copy highlight"><pre><span></span><code>curl -k --header <span class=s2>&quot;X-IBM-Client-Id: 6ec75cd5cc178ccc35394ff39b4bbd5f&quot;</span> <span class=se>\</span>
        --url https://apic-cluster-gw-gateway-tools.itzroks-270005wyhs-gsvjoe-6ccd7f378ae819553d37d5f2ee142bd6-0000.eu-gb.containers.appdomain.cloud/mq-tutorial/sandbox/mq-spring-app/v1/api/send-hello-world
</code></pre></div> <p>You should get back the following response:</p> <div class="no-copy highlight"><pre><span></span><code><span class=p>{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;OK&quot;</span><span class=p>,</span><span class=nt>&quot;statusMessage&quot;</span><span class=p>:</span><span class=s2>&quot;Successfully sent record to MQ&quot;</span><span class=p>,</span><span class=nt>&quot;data&quot;</span><span class=p>:</span><span class=s2>&quot;Hello World!&quot;</span><span class=p>}</span><span class=w></span>
</code></pre></div> <p>If you check your IBM MQ <code>QM1</code> web console, you should also see a new message:</p> <p><img alt=QM src=../images/qm-2.png style=max-height:1000px></p> <p>Try to reach your Spring MQ Application <code>recv</code> API to read a message from MQ with the following curl command:</p> <div class=highlight><pre><span></span><code>curl -k --header <span class=s2>&quot;X-IBM-Client-Id: &lt;your-application-client-id&gt;&quot;</span> <span class=se>\</span>
        --url https://&lt;api-gateway-service-url&gt;/&lt;provider-organization&gt;/&lt;catalog&gt;/&lt;base-path&gt;/api/recv
</code></pre></div> <p>In our case, this curl command would be:</p> <div class="no-copy highlight"><pre><span></span><code>curl -k --header <span class=s2>&quot;X-IBM-Client-Id: 6ec75cd5cc178ccc35394ff39b4bbd5f&quot;</span> <span class=se>\</span>
        --url https://apic-cluster-gw-gateway-tools.itzroks-270005wyhs-gsvjoe-6ccd7f378ae819553d37d5f2ee142bd6-0000.eu-gb.containers.appdomain.cloud/mq-tutorial/sandbox/mq-spring-app/v1/api/recv
</code></pre></div> <p>You should get back the following response:</p> <div class="no-copy highlight"><pre><span></span><code><span class=p>{</span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;OK&quot;</span><span class=p>,</span><span class=nt>&quot;statusMessage&quot;</span><span class=p>:</span><span class=s2>&quot;Successfully received record from MQ&quot;</span><span class=p>,</span><span class=nt>&quot;data&quot;</span><span class=p>:</span><span class=s2>&quot;Hello World!&quot;</span><span class=p>}</span><span class=w></span>
</code></pre></div> <p>If you check your IBM MQ <code>QM1</code> web console, you should now see there is no messages in the queue at all:</p> <p><img alt=QM src=../images/qm-3.png style=max-height:1000px></p> <div class="admonition success"> <p class=admonition-title>Congratulations</p> <p>You have just seen how IBM API Connect helps you secure your application APIs.</p> </div> <p>If you are not a terminal person, let's explore the <code>Test</code> tab of your <code>mq-spring-app</code> API. Click on the <code>Test</code> tab.</p> <p><img alt="API Manager" src=../images/api-manager-23.png style=max-height:1000px></p> <p>Here, you can see a testing tool pretty similar to the Swagger UI that you saw earlier at the beginning of this chapter. You can see a <code>Request</code> section at the top for the request you want to make. Below that section, you have the <code>Response</code> section that will output the response of your request.</p> <p>The <code>Request</code> section will allow you to chose from all the APIs you have defined in your OpenAPI definition, that is all the Spring MQ Application APIs you have defined in the OpenAPI definition you have created this <code>mq-spring-app</code> API from. You will then be presented with a <code>Parameters</code> form that will help and allow you to define any parameters you must or might want to include in your request. As you can see, some of the required parameters such as the <code>X-IBM-Client-Id</code> has already been added and filled in for you.</p> <p>Make sure you select the <code>send-hello-world</code> API by hovering over the options listed in the drop down menu of the available endpoints to test with your mouse.</p> <p><img alt="API Manager" src=../images/api-manager-24.png style=max-height:1000px></p> <p>Click <code>Send</code>.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If you see an error like the following, click the <code>here</code> link that is displayed in the popup dialog and accept the un-trusted certificate in the new tab that will open. You may need to resend the request.</p> </div> <p><img alt="API Manager" src=../images/api-manager-25.png style=max-height:300px></p> <p>After the request has been successfully made, you will see the response for it. You should see the status of the response and the response time on the top right corner of the <code>Response</code> section as well as the returned object in the body of the response which is the expected JSON object.</p> <p><img alt="API Manager" src=../images/api-manager-26.png style=max-height:900px></p> <p>You could also check your IBM MQ <code>QM1</code> web console again to make sure that a message has make it to the appropriate queue.</p> <p>Try receiving messages by sending a request to the <code>recv</code> Spring MQ Application API. Select such API from the drop down menu and click <code>Send</code>. You should again see an successful response.</p> <p><img alt="API Manager" src=../images/api-manager-27.png style=max-height:900px></p> <p>And that the message is gone from the appropriate queue in your IBM MQ <code>QM1</code> web console.</p> <div class="admonition success"> <p class=admonition-title>Congratulations!</p> <p>You have successfully created/developed your <code>mq-spring-app</code> API from your Spring MQ Application APIs OpenAPI definition. You have also made sure your Spring MQ Application APIs are now securely exposed through your IBM API Connect Gateway Services by using the testing capability within your IBM API Connect API Manager.</p> </div> <p>Now, it is time to <strong>publish</strong> this <code>mq-spring-app</code> API to the desired catalog which is <code>dev</code>. However, as already mentioned earlier, you first need to create a product that "offers" your API to then publish that product into a catalog.</p> <p>Click on the hamburger button of your <code>mq-spring-app</code> at the top right corner and select <code>Publish</code></p> <p><img alt="API Manager" src=../images/api-manager-28.png style=max-height:900px></p> <p>You will be driven to a <code>Publish API</code> form.</p> <p><img alt="API Manager" src=../images/api-manager-29.png style=max-height:900px></p> <p>Make sure you select <code>New Product</code> since you want to publish your <code>mq-spring-app</code> into a new product. Then, provide a meaningful <code>Title</code> for your product and you can leave the version value to <code>1.0.0</code>. Click <code>Next</code>.</p> <p><img alt="API Manager" src=../images/api-manager-30.png style=max-height:1000px></p> <p>In this second part or screen of the <code>Publish API</code> form, leave everything as is. That is, leave <code>dev</code> as the catalog where you want your product to be published to and do not check the <code>Publish to specific gateways services</code> option, mainly because you only have one IBM API Connect Gateway Service, the default for the catalog, and therefore you won't be able to select any other. If you had a more complex IBM API Connect Topology you could here select what IBM API Connect Gateway Services this product will actually be published to (review the previous <a href=../configure-apic/ >Configure API Connect</a> chapter for more information). Leave the <code>Visibility</code> of your product as <code>Public</code> for now for simplicity so everyone can see that product in your catalog for information and socialization. However, select <code>Authenticated</code> for the <code>Subscribability</code> as you would only want authenticated users to be able to subscribe to your product to use it. Click <code>Publish</code>. A successful message should appear on the top right corner afterwards.</p> <p><img alt="API Manager" src=../images/api-manager-999.png style=max-height:200px></p> <p>After the product has been successfully published, you should get redirected to the <code>Develop</code> section of your IBM API Connect API Manager.</p> <p><img alt="API Manager" src=../images/api-manager-31.png style=max-height:500px></p> <p>Here you can see your all your APIs. You will only see your recently created <code>mq-spring-app</code> API as expected. Now, click on the <code>Products</code> tab.</p> <p><img alt="API Manager" src=../images/api-manager-32.png style=max-height:500px></p> <p>You should see your recently created <code>MQ Spring App</code> product listed. Click on your <code>MQ Spring App</code> product to see its details.</p> <p><img alt="API Manager" src=../images/api-manager-33.png style=max-height:1000px></p> <p>You should see a graphical view for your <code>MQ Spring App</code> product details. You could inspect the <code>Plans</code> section of your product as it is an important capability for <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=products-monetizing-your">monetizing your products</a>. However, this is out of the scope for this tutorial. You can read more on plans <a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=products-editing-draft-product">here</a>.</p> <p>Click on the <code>Source</code> tab to see the definition of your <code>MQ Spring App</code> product as code. And more precisely, you can see that your <code>MQ Spring App</code> product source definition is in a YAML format.</p> <p><img alt="API Manager" src=../images/api-manager-34.png style=max-height:1000px></p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p><strong>The source code for your <code>MQ Spring App</code> product above will be used to promote products</strong> to testing, QA, production, etc environments through GitHub and automation (that is, GitOps!) so that there is no manual intervention and all objects and its changes are defined as code in GitHub and therefore are trackable and auditable.</p> </div> <div class="admonition success"> <p class=admonition-title>Congratulations!</p> <p>You have created your <code>MQ Spring App</code> product that includes your <code>mq-spring-app</code> API and published it to the <code>dev</code> catalog. Now, you only need to create a IBM API Connect Developer Portal for your <code>dev</code> catalog to start consuming your Spring MQ Application APIs. Go to the next <a href=../consume-apis/ >Consume APIs</a> chapter to see how to do so.</p> </div> <h2 id=links>Links<a class=headerlink href=#links title="Permanent link">&para;</a></h2> <p>Here are some interesting links used to create this section of the tutorial:</p> <ul> <li><a href=https://pages.github.ibm.com/IBMAoT/i-openshift-guides/03-cloud-paks/cloud-pak-for-integration/api-connect>Red Hat OpenShift Solution Design Guidance - API Connect</a></li> <li><a href=https://swagger.io/ >Swagger</a></li> <li><a href=https://www.openapis.org/ >OpenAPI</a></li> <li><a href=https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api>Setting Up Swagger 2 with a Spring REST API</a></li> <li><a href=http://springfox.github.io/springfox/ >SpringFox</a></li> <li><a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=definition-enforcing-security-requirements-api">Enforcing security requirements on an API - IBM API Connect Knowledge Center</a></li> <li><a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=file-extensions-openapi-specification">IBM extensions to the OpenAPI specification - IBM API Connect Knowledge Center</a> </li> <li><a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=SSMNED_v10cd/com.ibm.apic.toolkit.doc/tapim_sec_api_config.html">Configuring API security - IBM API Connect Knowledge Center</a></li> <li><a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=products-editing-draft-product">Editing a draft Product - IBM API Connect Knowledge Center</a>.</li> <li><a href="https://www.ibm.com/docs/en/api-connect/10.0.x?topic=reference-api-connect-context-variables">API Connect context variables - IBM API Connect Knowledge Center</a> </li> </ul> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <!-- Footer --> <footer class=md-footer> <!-- Link to previous and/or next page --> <nav class="md-footer__inner md-grid" aria-label=Footer> <!-- Link to previous page --> <a href=../configure-apic/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Configure API Connect </div> </div> </a> <!-- Link to next page --> <a href=../consume-apis/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Consume APIs </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-column> <div class=md-footer-text>Site licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ >CC BY-NC-SA 4.0</a></div> </div> <div class=md-footer-column> <!-- Copyright and theme information --> <div class=md-footer-text> Copyright © 2021 Cloud Pak Production Deployment Guides </div> </div> <div class=md-footer-social> <a href=https://github.ibm.com/cloudpakbringup/deployment-guides target=_blank rel=noopener title="Production Deployment Guides on Github Enterprise" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"> <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"> </path> </svg> </a> <a href=https://ibm-cloud.slack.com/archives/C02CQ6M2D2R target=_blank rel=noopener title=Slack class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"> <path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"> </path> </svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.tracking", "navigation.tabs.sticky", "navigation.top", "navigation.sections"], "search": "../../../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../../../assets/javascripts/bundle.748e2769.min.js></script> </body> </html>