<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The Cloud Pak Production Deployment Guides document and demonstrate how to run cloud-native solutions leveraging IBM Cloud Pak capabilities in a Red Hat OpenShift environment"><meta name=author content="Cloud Pak Production Deployment Guides development team"><link rel=icon href=../../../../../images/cloudnativetoolkit.png><meta name=generator content="mkdocs-1.2.3, mkdocs-material-8.1.9"><title>Configure GitOps repos - Cloud Pak Production Deployment Guides</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.2b4465f4.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.e6a45f82.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback"><style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style><link rel=stylesheet href=../../../../../css/extra.css><link rel=stylesheet href=../../../../../css/toolkit-code.css><script>__md_scope=new URL("../../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Q0FLL49YN3"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-Q0FLL49YN3",{page_path:e.pathname})})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q0FLL49YN3"></script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="Cloud Pak Production Deployment Guides - Configure GitOps repos"><meta property=og:description content="The Cloud Pak Production Deployment Guides document and demonstrate how to run cloud-native solutions leveraging IBM Cloud Pak capabilities in a Red Hat OpenShift environment"><meta property=og:url content=None><meta property=og:image content=assets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#ibm-api-connect-multi-cluster-configure-the-clusters-configure-gitops-repos class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Cloud Pak Production Deployment Guides" class="md-header__button md-logo" aria-label="Cloud Pak Production Deployment Guides" data-md-component=logo> <img src=../../../../../images/cloudnativetoolkit.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud Pak Production Deployment Guides </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Configure GitOps repos </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.ibm.com/cloudpakbringup/production-deployment-guides/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../../../overview/overview/ class=md-tabs__link> Production Considerations </a> </li> <li class=md-tabs__item> <a href=../../../../../quickstart/overview/ class=md-tabs__link> Quick Start Demos </a> </li> <li class=md-tabs__item> <a href=../../../../guides-overview/ class="md-tabs__link md-tabs__link--active"> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../../../../infrastructure/ad/ class=md-tabs__link> References </a> </li> <li class=md-tabs__item> <a href=../../../../../overview/whats-new/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!-- Determine class according to configuration --> <!-- Main navigation --> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <!-- Site title --> <!--
  <label class="md-nav__title" for="__drawer">
    <a
      href="../../../../.."
      title="Cloud Pak Production Deployment Guides"
      class="md-nav__button md-logo"
      aria-label="Cloud Pak Production Deployment Guides"
      data-md-component="logo"
    >
      
  <img src="../../../../../images/cloudnativetoolkit.png" alt="logo">

    </a>
    Cloud Pak Production Deployment Guides
  </label>
--> <!-- Repository information --> <div class=md-nav__source> <a href=https://github.ibm.com/cloudpakbringup/production-deployment-guides/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> <!-- Render item list --> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Production Considerations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Production Considerations" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Production Considerations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../overview/overview/ class=md-nav__link> Objective </a> </li> <li class=md-nav__item> <a href=../../../../../gitops/personas/ class=md-nav__link> Personas </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> DevOps Automation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DevOps Automation" data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> DevOps Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../automation/why-automate/ class=md-nav__link> Why Automate? </a> </li> <li class=md-nav__item> <a href=../../../../../gitops/structure/ class=md-nav__link> GitOps Structure </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> Golden Topologies <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Golden Topologies" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Golden Topologies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-azure/ class=md-nav__link> Azure Unmanaged </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-aro/ class=md-nav__link> Azure Managed (ARO) </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-aws/ class=md-nav__link> AWS Unmanaged </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-rosa/ class=md-nav__link> AWS Managed (ROSA) </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/golden-topology-roks/ class=md-nav__link> IBM Cloud Managed (ROKS) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5 type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5> Cloud Pak <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak" data-md-level=2> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Cloud Pak </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_1 type=checkbox id=__nav_2_5_1> <label class=md-nav__link for=__nav_2_5_1> App Connect Enterprise <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="App Connect Enterprise" data-md-level=3> <label class=md-nav__title for=__nav_2_5_1> <span class="md-nav__icon md-icon"></span> App Connect Enterprise </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/overview/architecture/ class=md-nav__link> Architecture </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_2 type=checkbox id=__nav_2_5_2> <label class=md-nav__link for=__nav_2_5_2> MQ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=MQ data-md-level=3> <label class=md-nav__title for=__nav_2_5_2> <span class="md-nav__icon md-icon"></span> MQ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/overview/architecture/ class=md-nav__link> Architecture </a> </li> <li class=md-nav__item> <a href=../../../mq/security/information/overview/ class=md-nav__link> Security </a> </li> <li class=md-nav__item> <a href=../../../mq/cloud-native/promote-environments/ class=md-nav__link> Promoting across environments </a> </li> <li class=md-nav__item> <a href=../../../mq/high-availability/overview/ class=md-nav__link> High Availability </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_3 type=checkbox id=__nav_2_5_3> <label class=md-nav__link for=__nav_2_5_3> API Connect <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="API Connect" data-md-level=3> <label class=md-nav__title for=__nav_2_5_3> <span class="md-nav__icon md-icon"></span> API Connect </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_3_1 type=checkbox id=__nav_2_5_3_1> <label class=md-nav__link for=__nav_2_5_3_1> Architecture <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Architecture data-md-level=4> <label class=md-nav__title for=__nav_2_5_3_1> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> <li class=md-nav__item> <a href=../../architecture/multi-cloud/ class=md-nav__link> Multi-cloud </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../security/overview/ class=md-nav__link> Security </a> </li> <li class=md-nav__item> <a href=../../high-availability/overview/ class=md-nav__link> High Availability </a> </li> <li class=md-nav__item> <a href=../../disaster-recovery/overview/ class=md-nav__link> Disaster Recovery </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_4 type=checkbox id=__nav_2_5_4> <label class=md-nav__link for=__nav_2_5_4> Automation Decision Services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Automation Decision Services" data-md-level=3> <label class=md-nav__title for=__nav_2_5_4> <span class="md-nav__icon md-icon"></span> Automation Decision Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/ads/architecture/ads/ class=md-nav__link> Architecture </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/architecture/ibm-cloud/ class=md-nav__link> Process Mining </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5_6 type=checkbox id=__nav_2_5_6> <label class=md-nav__link for=__nav_2_5_6> Cloud Pak for Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Data" data-md-level=3> <label class=md-nav__title for=__nav_2_5_6> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d-hadr/cpdbase/overview/architecture/ class=md-nav__link> Architecture </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Quick Start Demos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Quick Start Demos" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Quick Start Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quickstart/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cntk/ class=md-nav__link> Cloud Native Toolkit </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-ace/ class=md-nav__link> ACE (CP4I) </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-mq/ class=md-nav__link> MQ (CP4I) </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4s/ class=md-nav__link> Security (CP4S) </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-apic/ class=md-nav__link> APIC (CP4I) </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-process-mining/ class=md-nav__link> Process Mining (CP4BA) </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d/ class=md-nav__link> Cloud Pak for Data </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-cp4d-ws/ class=md-nav__link> Watson Studio (CP4D) </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-instana-agent/ class=md-nav__link> Instana Agent </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-instana-grafana/ class=md-nav__link> Instana & Grafana </a> </li> <li class=md-nav__item> <a href=../../../../../quickstart/quickstart-instana-server/ class=md-nav__link> Instana Server </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../guides-overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Infrastructure <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Infrastructure data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/infra-overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_2 type=checkbox id=__nav_4_2_2> <label class=md-nav__link for=__nav_4_2_2> Managed Clusters <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Managed Clusters" data-md-level=3> <label class=md-nav__title for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> Managed Clusters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/roks/ class=md-nav__link> IBM ROKS </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/rosa/ class=md-nav__link> Amazon ROSA </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/aro/ class=md-nav__link> Microsoft ARO </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_3 type=checkbox id=__nav_4_2_3> <label class=md-nav__link for=__nav_4_2_3> Unmanaged Clusters <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Unmanaged Clusters" data-md-level=3> <label class=md-nav__title for=__nav_4_2_3> <span class="md-nav__icon md-icon"></span> Unmanaged Clusters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/aws/ class=md-nav__link> Amazon AWS </a> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/azure/ class=md-nav__link> Microsoft Azure </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../infrastructure/restricted-networks/ class=md-nav__link> Restricted Networks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3 checked> <label class=md-nav__link for=__nav_4_3> Cloud Pak for Integration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Integration" data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Cloud Pak for Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1 type=checkbox id=__nav_4_3_1> <label class=md-nav__link for=__nav_4_3_1> ACE <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=ACE data-md-level=3> <label class=md-nav__title for=__nav_4_3_1> <span class="md-nav__icon md-icon"></span> ACE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/overview/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../ace/overview/architecture/ class=md-nav__link> Architecture </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1_3 type=checkbox id=__nav_4_3_1_3> <label class=md-nav__link for=__nav_4_3_1_3> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_1_3> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/cluster-create/ibm-setup/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_1_4 type=checkbox id=__nav_4_3_1_4> <label class=md-nav__link for=__nav_4_3_1_4> Configure the Cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the Cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_1_4> <span class="md-nav__icon md-icon"></span> Configure the Cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ace/cluster-config/gitops-tekton-argocd/ class=md-nav__link> GitOps, Tekton & ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../ace/cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> <li class=md-nav__item> <a href=../../../ace/cluster-config/services/ class=md-nav__link> Deploying Services </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../ace/cloud-native-example/example/ class=md-nav__link> Cloud Native Example </a> </li> <li class=md-nav__item> <a href=../../../ace/deploy-backend-service/deploy-backend-service/ class=md-nav__link> Deploy Backend Service </a> </li> <li class=md-nav__item> <a href=../../../ace/environment-promotion/promoting-environments/ class=md-nav__link> Environment Promotion </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2 type=checkbox id=__nav_4_3_2> <label class=md-nav__link for=__nav_4_3_2> MQ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=MQ data-md-level=3> <label class=md-nav__title for=__nav_4_3_2> <span class="md-nav__icon md-icon"></span> MQ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/using/this-guide/ class=md-nav__link> The MQ tutorial </a> </li> <li class=md-nav__item> <a href=../../../mq/overview/architecture/ class=md-nav__link> Target architecture </a> </li> <li class=md-nav__item> <a href=../../../mq/cluster-create/ibm-setup/ class=md-nav__link> Create the cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_4 type=checkbox id=__nav_4_3_2_4> <label class=md-nav__link for=__nav_4_3_2_4> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_4> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/cluster-config/gitops-tekton-argocd/ class=md-nav__link> Set up GitOps </a> </li> <li class=md-nav__item> <a href=../../../mq/cluster-config/gitops-config/ class=md-nav__link> Add infrastructure </a> </li> <li class=md-nav__item> <a href=../../../mq/cluster-config/services/ class=md-nav__link> Add services </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_5 type=checkbox id=__nav_4_3_2_5> <label class=md-nav__link for=__nav_4_3_2_5> Build Queue Manager <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Build Queue Manager" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_5> <span class="md-nav__icon md-icon"></span> Build Queue Manager </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/qmgr-pipeline/topic1/ class=md-nav__link> Configuring the pipeline </a> </li> <li class=md-nav__item> <a href=../../../mq/qmgr-pipeline/topic2/ class=md-nav__link> Running the pipeline </a> </li> <li class=md-nav__item> <a href=../../../mq/qmgr-pipeline/topic3/ class=md-nav__link> Deploying and using </a> </li> <li class=md-nav__item> <a href=../../../mq/qmgr-pipeline/topic4/ class=md-nav__link> Continuous updates </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_6 type=checkbox id=__nav_4_3_2_6> <label class=md-nav__link for=__nav_4_3_2_6> Build MQ application <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Build MQ application" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_6> <span class="md-nav__icon md-icon"></span> Build MQ application </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/app-pipeline/topic1/ class=md-nav__link> Sample application </a> </li> <li class=md-nav__item> <a href=../../../mq/app-pipeline/topic2/ class=md-nav__link> Configuring the pipeline </a> </li> <li class=md-nav__item> <a href=../../../mq/app-pipeline/topic3/ class=md-nav__link> Managing an application change </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_7 type=checkbox id=__nav_4_3_2_7> <label class=md-nav__link for=__nav_4_3_2_7> Environment Promotion <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Environment Promotion" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_7> <span class="md-nav__icon md-icon"></span> Environment Promotion </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/cloud-native/promoting-environments-dev-stage/ class=md-nav__link> Promote from dev to staging </a> </li> <li class=md-nav__item> <a href=../../../mq/cloud-native/promoting-environments-stage-prod/ class=md-nav__link> Promote from staging to prod </a> </li> <li class=md-nav__item> <a href=../../../mq/cloud-native/automate-promotion/ class=md-nav__link> Automate promotion </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_8 type=checkbox id=__nav_4_3_2_8> <label class=md-nav__link for=__nav_4_3_2_8> Security <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Security data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_8> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/security/handson/mtls/ class=md-nav__link> Secure data in motion </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_2_9 type=checkbox id=__nav_4_3_2_9> <label class=md-nav__link for=__nav_4_3_2_9> Architecture Decisions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Architecture Decisions" data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_9> <span class="md-nav__icon md-icon"></span> Architecture Decisions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mq/ad/ class=md-nav__link> Decision Index </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3 type=checkbox id=__nav_4_3_3> <label class=md-nav__link for=__nav_4_3_3> APIC <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=APIC data-md-level=3> <label class=md-nav__title for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> APIC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../overview/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_2 type=checkbox id=__nav_4_3_3_2> <label class=md-nav__link for=__nav_4_3_3_2> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_2> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cluster-create/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_3 type=checkbox id=__nav_4_3_3_3> <label class=md-nav__link for=__nav_4_3_3_3> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_3> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cluster-config/gitops-tekton-argocd/ class=md-nav__link> GitOps, Tekton & ArgoCD </a> </li> <li class=md-nav__item> <a href=../../cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_4 type=checkbox id=__nav_4_3_3_4> <label class=md-nav__link for=__nav_4_3_3_4> Deploy APIC <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Deploy APIC" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_4> <span class="md-nav__icon md-icon"></span> Deploy APIC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deployment/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_5 type=checkbox id=__nav_4_3_3_5> <label class=md-nav__link for=__nav_4_3_3_5> Configure APIC <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure APIC" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_5> <span class="md-nav__icon md-icon"></span> Configure APIC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuration/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_3_6 type=checkbox id=__nav_4_3_3_6> <label class=md-nav__link for=__nav_4_3_3_6> Publish APIs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Publish APIs" data-md-level=4> <label class=md-nav__title for=__nav_4_3_3_6> <span class="md-nav__icon md-icon"></span> Publish APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../publish/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_4 type=checkbox id=__nav_4_3_4 checked> <label class=md-nav__link for=__nav_4_3_4> APIC Multi-Cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="APIC Multi-Cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_3_4> <span class="md-nav__icon md-icon"></span> APIC Multi-Cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../create-clusters/ class=md-nav__link> Create the cluster </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_4_3 type=checkbox id=__nav_4_3_4_3 checked> <label class=md-nav__link for=__nav_4_3_4_3> Configure the clusters <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the clusters" data-md-level=4> <label class=md-nav__title for=__nav_4_3_4_3> <span class="md-nav__icon md-icon"></span> Configure the clusters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../configure-clusters-gitops/ class=md-nav__link> GitOps repos & ArgoCD </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Configure GitOps repos <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Configure GitOps repos </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> Pre-requisites </a> </li> <li class=md-nav__item> <a href=#customizing-the-gitops-repositories class=md-nav__link> Customizing the GitOps repositories </a> <nav class=md-nav aria-label="Customizing the GitOps repositories"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#update-multi-tenancy-gitops-repository class=md-nav__link> Update multi-tenancy-gitops repository </a> </li> <li class=md-nav__item> <a href=#update-multi-tenancy-gitops-apps-repository class=md-nav__link> Update multi-tenancy-gitops-apps repository </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../deploy/ class=md-nav__link> Deploy APIC </a> </li> <li class=md-nav__item> <a href=../config-pipeline/ class=md-nav__link> Configure APIC </a> </li> <li class=md-nav__item> <a href=../publish-pipeline/ class=md-nav__link> Publish APIs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> Cloud Pak for Security <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Security" data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Cloud Pak for Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/using/this-guide/ class=md-nav__link> The CP4S tutorial </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/overview/architecture/ class=md-nav__link> CP4S architecture </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-create/ibm-setup/ class=md-nav__link> Create the cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_4 type=checkbox id=__nav_4_4_4> <label class=md-nav__link for=__nav_4_4_4> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_4_4> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/gitops-tekton-argocd/ class=md-nav__link> Set up GitOps </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/gitops-config/ class=md-nav__link> Add infrastructure </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/services/ class=md-nav__link> Add services </a> </li> <li class=md-nav__item> <a href=../../../../cp4s/cp4s-tree/cluster-config/backup-recovery-upgrade/ class=md-nav__link> Managing Lifecycle for CP4S </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Cloud Pak for Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Data" data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/overview/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_2 type=checkbox id=__nav_4_5_2> <label class=md-nav__link for=__nav_4_5_2> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_5_2> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/cluster-create/ibm-setup/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_3 type=checkbox id=__nav_4_5_3> <label class=md-nav__link for=__nav_4_5_3> Configure the Cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the Cluster" data-md-level=3> <label class=md-nav__title for=__nav_4_5_3> <span class="md-nav__icon md-icon"></span> Configure the Cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/cluster-config/gitops-argocd/ class=md-nav__link> GitOps and ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../../cp4d/cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../cp4d/cp4d/deployment/ class=md-nav__link> Deployment </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_5 type=checkbox id=__nav_4_5_5> <label class=md-nav__link for=__nav_4_5_5> Services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Services data-md-level=3> <label class=md-nav__title for=__nav_4_5_5> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_5_1 type=checkbox id=__nav_4_5_5_1> <label class=md-nav__link for=__nav_4_5_5_1> Watson Studio <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Watson Studio" data-md-level=4> <label class=md-nav__title for=__nav_4_5_5_1> <span class="md-nav__icon md-icon"></span> Watson Studio </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/watson-studio/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../cp4d/watson-studio/deployment/ class=md-nav__link> Deployment </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5_5_2 type=checkbox id=__nav_4_5_5_2> <label class=md-nav__link for=__nav_4_5_5_2> Watson Knowledge Catalog <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Watson Knowledge Catalog" data-md-level=4> <label class=md-nav__title for=__nav_4_5_5_2> <span class="md-nav__icon md-icon"></span> Watson Knowledge Catalog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4d/wkc/overview/ class=md-nav__link> Overview </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6 type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6> Cloud Pak for Automation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Cloud Pak for Automation" data-md-level=2> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Cloud Pak for Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1 type=checkbox id=__nav_4_6_1> <label class=md-nav__link for=__nav_4_6_1> Process Mining <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Process Mining" data-md-level=3> <label class=md-nav__title for=__nav_4_6_1> <span class="md-nav__icon md-icon"></span> Process Mining </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/overview/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/using/this-guide/ class=md-nav__link> Using this guide </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1_3 type=checkbox id=__nav_4_6_1_3> <label class=md-nav__link for=__nav_4_6_1_3> Create the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Create the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_6_1_3> <span class="md-nav__icon md-icon"></span> Create the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/cluster-create/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1_4 type=checkbox id=__nav_4_6_1_4> <label class=md-nav__link for=__nav_4_6_1_4> Configure the cluster <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Configure the cluster" data-md-level=4> <label class=md-nav__title for=__nav_4_6_1_4> <span class="md-nav__icon md-icon"></span> Configure the cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/cluster-config/gitops-tekton-argocd/ class=md-nav__link> GitOps & ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/cluster-config/gitops-config/ class=md-nav__link> Getting started with GitOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6_1_5 type=checkbox id=__nav_4_6_1_5> <label class=md-nav__link for=__nav_4_6_1_5> Deploy Process Mining <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Deploy Process Mining" data-md-level=4> <label class=md-nav__title for=__nav_4_6_1_5> <span class="md-nav__icon md-icon"></span> Deploy Process Mining </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cp4ba/process-mining/deployment/ibm-cloud/ class=md-nav__link> IBM Cloud </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=References data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../infrastructure/ad/ class=md-nav__link> Architectural Decisions </a> </li> <li class=md-nav__item> <a href=../../../../../references/prerequisites/instructions/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../../../references/training/training/ class=md-nav__link> Training </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../overview/whats-new/ class=md-nav__link> What's New </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Contributing Content <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Contributing Content" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Contributing Content </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../contribute/githubflow/ class=md-nav__link> GitHub Open Source Contribution </a> </li> <li class=md-nav__item> <a href=../../../../../contribute/documentation/ class=md-nav__link> Running a Local Site Instance </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> Pre-requisites </a> </li> <li class=md-nav__item> <a href=#customizing-the-gitops-repositories class=md-nav__link> Customizing the GitOps repositories </a> <nav class=md-nav aria-label="Customizing the GitOps repositories"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#update-multi-tenancy-gitops-repository class=md-nav__link> Update multi-tenancy-gitops repository </a> </li> <li class=md-nav__item> <a href=#update-multi-tenancy-gitops-apps-repository class=md-nav__link> Update multi-tenancy-gitops-apps repository </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.ibm.com/cloudpakbringup/production-deployment-guides/edit/master/docs/guides/cp4i/apic/multi-cluster/configure-clusters-gitops-config.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=ibm-api-connect-multi-cluster-configure-the-clusters-configure-gitops-repos>IBM API Connect Multi-Cluster - Configure the clusters - Configure GitOps repos<a class=headerlink href=#ibm-api-connect-multi-cluster-configure-the-clusters-configure-gitops-repos title="Permanent link">&para;</a></h1> <!--- cSpell:ignore apic datapower kustomization jsonpath storageclass --> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>In the previous chapter of this guide, we installed the Red Hat GitOps Operator, which relies on ArgoCD behind the scenes, as the fundamental component for deploying and managing any component on our clusters. We also went through creating a GitHub organization where the different GitOps repositories that will drive the GitOps processes for our clusters will be forked into. These GitOps repositories that will store the definitions and configurations of all the components we want to have in our clusters, that ArgoCD will use as the source of truth to what needs to be in our clusters or not, are:</p> <ul> <li>The <a href=https://github.com/cloud-native-toolkit/multi-tenancy-gitops>multi-tenancy-gitops</a> repository</li> <li>The <a href=https://github.com/cloud-native-toolkit/multi-tenancy-gitops-infra>multi-tenancy-gitops-infra</a> repository</li> <li>The <a href=https://github.com/cloud-native-toolkit/multi-tenancy-gitops-services>multi-tenancy-gitops-services</a> repository</li> <li>The <a href=https://github.com/cloud-native-toolkit-demos/multi-tenancy-gitops-apps>multi-tenancy-gitops-apps</a> repository</li> </ul> <p><img alt=gitops-config src=../images/configure-clusters/gitops-config.png style=max-height:400px></p> <p>By now, you should have a copy/fork of each of these repositories in the GitHub organization you must have created in the previous section too as well as a clone of those GitOps repositories on your local workstation. In fact, in the previous section we already used the local clone of the <code>multi-tenancy-gitops</code> repository to install ArgoCD in each of your Red Hat OpenShift clusters where we are going to install IBM API Connect components.</p> <div class="admonition success"> <p class=admonition-title>Goal</p> <p>In this section, we are going to see how to create the appropriate structure in the <strong><code>multi-tenancy-gitops</code></strong> and <strong><code>multi-tenancy-gitops-apps</code></strong> repositories that will allow us to install the right specific components of IBM API Connect to successfully deploy IBM API Connect in a multi-cluster landscape.</p> </div> <h2 id=pre-requisites>Pre-requisites<a class=headerlink href=#pre-requisites title="Permanent link">&para;</a></h2> <p>For a better understanding of the following sections, we strongly recommend to review and understand the <a href=../../cluster-config/gitops-config/ >Getting started with GitOps</a> section for the IBM API Connect single cluster scenario tutorial where a more in-depth explanation of the <code>multi-tenancy-gitops</code> GitOps repo structure can be found.</p> <h2 id=customizing-the-gitops-repositories>Customizing the GitOps repositories<a class=headerlink href=#customizing-the-gitops-repositories title="Permanent link">&para;</a></h2> <p>The cloned GitOps repositories (specifically, <code>multi-tenancy-gitops</code> and <code>multi-tenancy-gitops-apps</code> repositories) need to be customized for a correct deployment of IBM API Connect in a multi-cluster landscape. We will see in the following sections how to do the appropriate customizations to the aforementioned GitOps repositories.</p> <h3 id=update-multi-tenancy-gitops-repository>Update multi-tenancy-gitops repository<a class=headerlink href=#update-multi-tenancy-gitops-repository title="Permanent link">&para;</a></h3> <p>The <code>multi-tenancy-gitops</code> repository contains different profiles for different potential infrastructure landscapes. If you execute <code>tree multi-tenancy-gitops/0-bootstrap -L 2</code>,</p> <div class=highlight><pre><span></span><code>multi-tenancy-gitops/0-bootstrap
 bootstrap.yaml
 others
  1-shared-cluster
  2-isolated-cluster
  3-multi-cluster
 single-cluster
     1-infra
     2-services
     3-apps
     bootstrap.yaml
     kustomization.yaml
</code></pre></div> <p>you should see the <code>single-cluster</code> and <code>others</code> folder whose aim is to represent those different potential infrastructure landscapes. The <code>single-cluster</code> profile represents the layered GitOps structure (<code>1-infra</code>, <code>2-services</code>, <code>3-apps</code>) for a single cluster. On the other hand, <code>others</code> folder contains other more complex profiles for multi-cluster infrastructure landscapes. If you execute <code>tree multi-tenancy-gitops/0-bootstrap/others -L 3</code></p> <div class=highlight><pre><span></span><code>multi-tenancy-gitops/0-bootstrap/others
 1-shared-cluster
  bootstrap-cluster-1-cicd-dev-stage-prod.yaml
  bootstrap-cluster-n-prod.yaml
  cluster-1-cicd-dev-stage-prod
   1-infra
   2-services
   3-apps
   kustomization.yaml
  cluster-n-prod
      1-infra
      2-services
      3-apps
      kustomization.yaml
 2-isolated-cluster
  bootstrap-cluster-1-cicd-dev-stage.yaml
  bootstrap-cluster-n-prod.yaml
  cluster-1-cicd-dev-stage
   1-infra
   2-services
   3-apps
   kustomization.yaml
  cluster-n-prod
      1-infra
      2-services
      3-apps
      kustomization.yaml
 3-multi-cluster
     bootstrap-cluster-1-cicd.yaml
     bootstrap-cluster-1-dev.yaml
     bootstrap-cluster-1-stage.yaml
     bootstrap-cluster-n-prod.yaml
     cluster-1-cicd
      1-infra
      2-services
      3-apps
      kustomization.yaml
     cluster-2-dev
      1-infra
      2-services
      3-apps
      kustomization.yaml
     cluster-3-stage
      1-infra
      2-services
      3-apps
      kustomization.yaml
     cluster-n-prod
         1-infra
         2-services
         3-apps
         kustomization.yaml
</code></pre></div> <p>you will see that each of those more complex multi-cluster infrastructure landscape profiles are the same as the <code>single-cluster</code> profile as far as the layered GitOps structure that represents a clusters but with the difference that in these multi-cluster profiles we will be driving the GitOps processes for several clusters.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Once again, we strongly recommend to review and understand the <a href=../../cluster-config/gitops-config/ >Getting started with GitOps</a> section for the IBM API Connect single cluster scenario tutorial, where a more in-depth explanation of the <code>multi-tenancy-gitops</code> GitOps approach and repo structure can be found.</p> </div> <p>It is clear then that the profile for our IBM API Connect multi-cluster use case will need to live under <code>others</code>. However, since this is a very specific use case for an IBM capability such as IBM API Connect, we have not included such profile on the GitOps repo by default out of the box.</p> <p>Instead, we have placed the structure for what will be your IBM API Connect Management and Portal cluster and IBM API Connect Gateway and Analytics cluster profiles under <code>docs/scenarios/apic-multi-cluster</code>. If you execute <code>tree multi-tenancy-gitops/doc/scenarios/apic-multi-cluster -L 2</code>,</p> <div class=highlight><pre><span></span><code>multi-tenancy-gitops/doc/scenarios/apic-multi-cluster
 bootstrap-gateway-analytics-cluster.yaml
 bootstrap-management-portal-cluster.yaml
 gateway-analytics-cluster
  1-infra
  2-services
  3-apps
  kustomization.yaml
 management-portal-cluster
  1-infra
  2-services
  3-apps
  kustomization.yaml
 scripts
     create-apic-multi-cluster-profile.sh
     create-gateway-analytics-cluster.sh
</code></pre></div> <p>you should see, as in with any of the other profiles, that your IBM API Connect Management and Portal cluster and IBM API Connect Gateway and Analytics cluster profiles look exactly the same as far as the layered GitOps structure is concerned.</p> <p>The content under <code>multi-tenancy-gitops/doc/scenarios/apic-multi-cluster</code> should be treated as the templates which you will build your <code>apic-multi-cluster</code> profile under <code>multi-tenancy-gitops/0-bootstrap/others</code> from. For doing that, we provide two scripts under the <code>scripts</code> folder you can see above. The <code>create-apic-multi-cluster-profile.sh</code> script will be responsible for creating that <code>apic-multi-cluster</code> profile under <code>multi-tenancy-gitops/0-bootstrap/others</code>. The <code>create-gateway-analytics-cluster.sh</code> script will be responsible for creating extra IBM API Connect Gateway and Analytics clusters under the <code>apic-multi-cluster</code> profile you have just created with the other script. This will allow you to create those IBM API Connect multi-cluster implementations where you have multiple clusters hosting applications that you would want to front with the IBM API Connect Gateway and Analytics components for securely exposing their APIs to outside world as well as using IBM API Connect capabilities for publishing and socializing such APIs as it is explained in the <a href=../overview/ >Overview</a> section.</p> <p>Let's have a look at what you need to do in this <code>multi-tenancy-gitops</code> GitOps repository to create the <code>apic-multi-cluster</code> profile that will drive your GitOps process to implement the IBM API Connect multi-cluster use case introduced in the <a href=../overview/ >Overview</a> section which will be made up of one IBM API Connect Management and Portal cluster and two IBM API Connect Gateway and Analytics clusters. The instructions below will simulate, with the names used for the IBM API Connect Gateway and Analytics clusters, that one of those clusters will be in IBM Cloud and the other in AWS. However, all the clusters used in this set of instructions are hosted in IBM Cloud and have been requested through IBM Technology Zone as explained in the <a href=../create-clusters/ >Create clusters</a> section.</p> <ol> <li> <p>Go to <code>multi-tenancy-gitops/doc/scenarios/apic-multi-cluster/scripts</code></p> <div class=highlight><pre><span></span><code><span class=nb>cd</span> <span class=nv>$HOME</span>/git
<span class=nb>cd</span> multi-tenancy-gitops/doc/scenarios/apic-multi-cluster/scripts
</code></pre></div> </li> <li> <p>Execute the <code>create-apic-multi-cluster-profile.sh</code> script:</p> <div class=highlight><pre><span></span><code><span class=nv>NAME</span><span class=o>=</span>IBM ./create-apic-multi-cluster-profile.sh
</code></pre></div> </li> <li> <p>You should see the following output:</p> <div class=highlight><pre><span></span><code>Creating an IBM API Connect multi-cluster profile under 0-bootstrap/others
The IBM Gateway and Analytics cluster will be called IBM
Done
You can find the new apic-multi-cluster profile under 0-bootsrap/others/apic-multi-cluster
</code></pre></div> </li> <li> <p>Execute the <code>create-gateway-analytics-cluster.sh</code> script to create the IBM API Connect Gateway and Analytics cluster that will be hosted in AWS under your <code>apic-multi-cluster</code> profile created in the previous step:</p> <div class=highlight><pre><span></span><code><span class=nv>NAME</span><span class=o>=</span>AWS ./create-gateway-analytics-cluster.sh
</code></pre></div> </li> <li> <p>You should see the following output:</p> <div class=highlight><pre><span></span><code>Creating a new IBM Gateway and Analytics cluster called AWS
Your new cluster can be found in the AWS-gateway-analytics-cluster folder
The bootstrap ArgoCD application for you new cluster is bootstrap-AWS-gateway-analytics-cluster.yaml
</code></pre></div> </li> <li> <p>Change directory and go back to <code>multi-tenancy-gitops</code>:</p> <div class=highlight><pre><span></span><code><span class=nb>cd</span> <span class=nv>$HOME</span>/git
<span class=nb>cd</span> multi-tenancy-gitops
</code></pre></div> </li> <li> <p>Execute <code>tree 0-bootstrap/others/apic-multi-cluster -L 2</code>, you should see the following output:</p> <div class=highlight><pre><span></span><code>0-bootstrap/others/apic-multi-cluster
 AWS-gateway-analytics-cluster
  1-infra
  2-services
  3-apps
  kustomization.yaml
 IBM-gateway-analytics-cluster
  1-infra
  2-services
  3-apps
  kustomization.yaml
 bootstrap-AWS-gateway-analytics-cluster.yaml
 bootstrap-IBM-gateway-analytics-cluster.yaml
 bootstrap-management-portal-cluster.yaml
 management-portal-cluster
     1-infra
     2-services
     3-apps
     kustomization.yaml
</code></pre></div> <p>which should correspond to your desired IBM API Connect multi-cluster GitOps profile which we will use to drive the implementation of the IBM API Connect multi-cluster use case.</p> </li> </ol> <p>Last step would be to configure all of the ArgoCD applications and ArgoCD projects that will drive the GitOps processes to point to the appropriate GitHub organization and repositories where you are delivering these changes to. That is the GitHub organization and repositories your created and forked respectively in the <a href=../configure-clusters-gitops/ >Configure Clusters - GitOps</a> section. As you will see in the following section of this tutorial, you will be kicking off those GitOps processes that will get your RedHat OpenShift clusters with the components and configuration that you want and that you specified through these GitOps repositories just now through the <code>bootstrap</code> files above.</p> <p>If you inspect the content of one of those bootstrap files above:</p> <div class=highlight><pre><span></span><code>cat <span class=m>0</span>-bootstrap/others/apic-multi-cluster/bootstrap-management-portal-cluster.yaml 
</code></pre></div> <p>you should see the following:</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Application</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bootstrap-management-portal</span><span class=w></span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">openshift-gitops</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">openshift-gitops</span><span class=w></span>
<span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://kubernetes.default.svc</span><span class=w></span>
<span class=w>  </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class=w></span>
<span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w></span>
<span class=hll><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0-bootstrap/others/apic-multi-cluster/management-portal-cluster</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>repoURL</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${GIT_BASEURL}/${GIT_ORG}/${GIT_GITOPS}</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>targetRevision</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${GIT_GITOPS_BRANCH}</span><span class=w></span>
</span><span class=w>  </span><span class=nt>syncPolicy</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>automated</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>prune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>      </span><span class=nt>selfHeal</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
</code></pre></div> <p>where you can see highlighted that the <code>source</code> for this ArgoCD Application resides in a GitHub repository at <code>repoURL</code>, on the branch <code>targetRevision</code> and on the path <code>path</code> and that the <code>repoURL</code> and <code>targetRevision</code> are parametrized. The reason for this is to allow the <code>multi-tenancy-gitops</code> repo to be a template you can fork and work with without stepping into anyone else's work.</p> <p>As a result, we will need to configure all of these ArgoCD yaml files to point to your GitHub organization and repositories you are working with for the IBM API Connect multi-cluster use case. For this, we have provided a util script that is under <code>multi-tenancy-gitops/scripts</code>.</p> <ol> <li> <p>Execute the <code>set-git-source.sh</code> script:</p> <div class=highlight><pre><span></span><code><span class=nv>GIT_ORG</span><span class=o>=</span>&lt;your_git_org&gt; ./scripts/set-git-source.sh
</code></pre></div> <p>where <code>&lt;your_git_org&gt;</code> is your GitHub organization you created in the <a href=../configure-clusters-gitops/ >Configure Clusters - GitOps</a> section and forked the GitOps repositories you are using to drive the GitOps processes for the IBM API Connect multi-cluster use case into.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The <code>set-git-source.sh</code> allows for fine-grained customization of each of the GitOps repositories and their respective branches for greater flexibility. However, we assume you are working off the <code>master</code> branch and your GitOps repositories are called as the original GitOps repositories your forked from.</p> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This script might take a minute or so to execute.</p> </div> </li> <li> <p>You should see the following output:</p> <p><div class=highlight><pre><span></span><code>Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops.git on branch master
Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops-infra.git on branch master
Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops-services.git on branch master
Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops-apps.git on branch master
done replacing variables in kustomization.yaml files
git commit and push changes now
</code></pre></div> (*) where we have used <code>apic-multi-cluster</code> as our GitHub organization.</p> </li> </ol> <p>If you inspect the <code>bootstrap</code> file again, you should see it will now point to the GitHub organization and repository you are storing your GitOps configuration into.</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Application</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bootstrap-management-portal</span><span class=w></span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">openshift-gitops</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">openshift-gitops</span><span class=w></span>
<span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://kubernetes.default.svc</span><span class=w></span>
<span class=w>  </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class=w></span>
<span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w></span>
<span class=hll><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0-bootstrap/others/apic-multi-cluster/management-portal-cluster</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>repoURL</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/apic-multi-cluster/multi-tenancy-gitops.git</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>targetRevision</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">master</span><span class=w></span>
</span><span class=w>  </span><span class=nt>syncPolicy</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>automated</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>prune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>      </span><span class=nt>selfHeal</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
</code></pre></div> <p>Finally, you can commit and deliver the changes to your <code>multi-tenancy-gitops</code> repository:</p> <div class=highlight><pre><span></span><code>git add .
git commit -s -m <span class=s2>&quot;Created APIC multi-cluster profile&quot;</span>
git push origin <span class=nv>$GIT_BRANCH</span>
</code></pre></div> <h4 id=what-is-getting-installed>What is getting installed?<a class=headerlink href=#what-is-getting-installed title="Permanent link">&para;</a></h4> <p>You have seen in the previous section how to create the <code>apic-multi-cluster</code> profile that will represent your IBM API Connect multi-cluster scenario as well as how to configure all the ArgoCD applications and projects that the OpenShift GitOps operator installed on your Red Hat OpenShift clusters will use to drive the GitOps process on them. However, you have not looked at what is actually being installed/deployed on each of these Red Hat OpenShift clusters by your GitOps repositories. To do that, you need to look at the <code>kustomization.yaml</code> files in each of the layers (<code>1-infra</code>, <code>2-services</code>, <code>3-apps</code>) for each of the Red Hat OpenShift clusters you have represented within your <code>apic-multi-cluster</code> profile. These <code>kustomization.yaml</code> files are nothing but an index of the resources, that in turn are represented as ArgoCD Applications, that you want to get created, and as a result installed/deployed, which are those that are not commented out.</p> <p>You can use <code>cat</code> or any visual text editor to inspect any of those <code>kustomization.yaml</code> files that you should be able to locate under your <code>apic-multi-cluster</code> profile. For example, if you have a quick look at the <code>0-bootstrap/others/apic-multi-cluster/management-portal-cluster/2-services/kustomization.yaml</code>:</p> <div class=highlight><pre><span></span><code>cat <span class=m>0</span>-bootstrap/others/apic-multi-cluster/management-portal-cluster/2-services/kustomization.yaml <span class=p>|</span> grep <span class=s1>&#39;^- argo&#39;</span>
</code></pre></div> <p>You should see a similar output as:</p> <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argocd/operators/ibm-apic-operator.yaml</span><span class=w></span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argocd/instances/ibm-apic-management-portal-instance.yaml</span><span class=w></span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argocd/operators/ibm-datapower-operator.yaml</span><span class=w></span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argocd/operators/ibm-foundations.yaml</span><span class=w></span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argocd/operators/ibm-catalogs.yaml</span><span class=w></span>
<span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argocd/operators/openshift-pipelines.yaml</span><span class=w></span>
</code></pre></div> <p>where you can figure out what will get installed/deployed on your IBM API Connect Management and Portal cluster:</p> <ul> <li><code>argocd/operators/ibm-catalogs.yaml</code> - will install the IBM Operator Catalogs so that you can install the different IBM Operators we need for your use case.</li> <li><code>argocd/operators/ibm-foundations.yaml</code> and <code>argocd/operators/ibm-datapower-operator.yaml</code> - will install the IBM Foundations and IBM DataPower operators that are a dependency for the IBM API Connect operator.</li> <li><code>argocd/operators/ibm-apic-operator.yaml</code> - will install the IBM API Connect operator.</li> <li><code>argocd/instances/ibm-apic-management-portal-instance.yaml</code> - will install an instance of the IBM API Connect Management and Portal components.</li> <li><code>argocd/operators/openshift-pipelines.yaml</code> - will install the Red Hat OpenShift Pipelines operator that will allow you to execute Red Hat OpenShift Pipelines in the following sections to configure your IBM API Connect instance as well as to publish your IBM API Connect products and APIs.</li> </ul> <h3 id=update-multi-tenancy-gitops-apps-repository>Update multi-tenancy-gitops-apps repository<a class=headerlink href=#update-multi-tenancy-gitops-apps-repository title="Permanent link">&para;</a></h3> <p>The <code>multi-tenancy-gitops-apps</code> repository contains the actual IBM API Connect artifacts that will get installed on your Red Hat OpenShift clusters. For example, if you have a closer look at the <code>0-bootstrap/others/apic-multi-cluster/management-portal-cluster/2-services/argocd/instances/ibm-apic-management-portal-instance.yaml</code> from your <code>multi-tenancy-gitops</code> repo you will see the following: </p> <table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Application</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ibm-apic-management-portal-instance</span><span class=w></span>
<span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>argocd.argoproj.io/sync-wave</span><span class=p>:</span><span class=w> </span><span class=s>&quot;240&quot;</span><span class=w></span>
<span class=w>  </span><span class=nt>finalizers</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">resources-finalizer.argocd.argoproj.io</span><span class=w></span>
<span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>gitops.tier.group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cloudpak</span><span class=w></span>
<span class=hll><span class=w>    </span><span class=nt>gitops.tier.layer</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">applications</span><span class=w></span>
</span><span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">openshift-gitops</span><span class=w></span>
<span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://kubernetes.default.svc</span><span class=w></span>
<span class=w>  </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">services</span><span class=w></span>
<span class=hll><span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=c1># repoURL  and targetRevision populated by kustomize patches in 2-services/kustomization.yaml</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">apic/config/argocd/multi-cluster/instances/management-portal-instance</span><span class=w></span>
</span><span class=w>  </span><span class=nt>syncPolicy</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>automated</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>prune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>      </span><span class=nt>selfHeal</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
</code></pre></div> </td></tr></table> <ol> <li>The <code>ibm-apic-management-portal-instance.yaml</code> file is nothing but an ArgoCD Application that will point to another place for the resources to be deployed/installed as a result.</li> <li>In line number 11, this ArgoCD Application is labelled with <code>gitops.tier.layer: applications</code> so that, as you can read in line number 17, it will take the appropriate value for <code>repoURL</code> and <code>targetRevision</code>.</li> <li>In line number 17, this ArgoCD Application will get its <code>repoURL</code> and <code>targetRevision</code> attributes of the <code>source</code> property patched so that these point to the appropriate repository, where the source for the resources to be created is.</li> <li>In line number 18, you can see the <code>path</code> where the aforementioned resources are within the <code>repoURL</code> repository.</li> </ol> <p>To see what that <code>repoURL</code> is you need to inspect, once again, the <code>0-bootstrap/others/apic-multi-cluster/management-portal-cluster/2-services/kustomization.yaml</code> file. In here you should find the Kustomize patches at the very end:</p> <div class=highlight><pre><span></span><code><span class=nt>patches</span><span class=p>:</span><span class=w></span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>target</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io</span><span class=w></span>
<span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Application</span><span class=w></span>
<span class=w>    </span><span class=nt>labelSelector</span><span class=p>:</span><span class=w> </span><span class=s>&quot;gitops.tier.layer=services&quot;</span><span class=w></span>
<span class=w>  </span><span class=nt>patch</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|-</span><span class=w></span>
<span class=w>    </span><span class=no>- op: add</span><span class=w></span>
<span class=w>      </span><span class=no>path: /spec/source/repoURL</span><span class=w></span>
<span class=w>      </span><span class=no>value: https://github.com/apic-multi-cluster/multi-tenancy-gitops-services.git</span><span class=w></span>
<span class=w>    </span><span class=no>- op: add</span><span class=w></span>
<span class=w>      </span><span class=no>path: /spec/source/targetRevision</span><span class=w></span>
<span class=w>      </span><span class=no>value: master</span><span class=w></span>
<span class=hll><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>target</span><span class=p>:</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Application</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=nt>labelSelector</span><span class=p>:</span><span class=w> </span><span class=s>&quot;gitops.tier.layer=applications&quot;</span><span class=w></span>
</span><span class=hll><span class=w>  </span><span class=nt>patch</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|-</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=no>- op: add</span><span class=w></span>
</span><span class=hll><span class=w>      </span><span class=no>path: /spec/source/repoURL</span><span class=w></span>
</span><span class=hll><span class=w>      </span><span class=no>value: https://github.com/apic-multi-cluster/multi-tenancy-gitops-apps.git</span><span class=w></span>
</span><span class=hll><span class=w>    </span><span class=no>- op: add</span><span class=w></span>
</span><span class=hll><span class=w>      </span><span class=no>path: /spec/source/targetRevision</span><span class=w></span>
</span><span class=hll><span class=w>      </span><span class=no>value: master</span><span class=w></span>
</span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>target</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io</span><span class=w></span>
<span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Application</span><span class=w></span>
<span class=w>    </span><span class=nt>labelSelector</span><span class=p>:</span><span class=w> </span><span class=s>&quot;gitops.tier.layer=services,gitops.tier.source=helm&quot;</span><span class=w></span>
<span class=w>  </span><span class=nt>patch</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|-</span><span class=w></span>
<span class=w>    </span><span class=no>- op: add</span><span class=w></span>
<span class=w>      </span><span class=no>path: /spec/source/repoURL</span><span class=w></span>
<span class=w>      </span><span class=no>value: https://charts.cloudnativetoolkit.dev</span><span class=w></span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>target</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ibm-automation-foundation-operator</span><span class=w></span>
<span class=w>  </span><span class=nt>patch</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|-</span><span class=w></span>
<span class=w>    </span><span class=no>- op: add</span><span class=w></span>
<span class=w>      </span><span class=no>path: /spec/source/helm/parameters/-</span><span class=w></span>
<span class=w>      </span><span class=no>value:</span><span class=w></span>
<span class=w>        </span><span class=no>name: spec.channel</span><span class=w></span>
<span class=w>        </span><span class=no>value: v1.1</span><span class=w></span>
</code></pre></div> <p>and you should be able to identify the patches that will get applied to <code>repoURL</code> and <code>targetRevision</code> for each of the ArgoCD Applications that are defined to be installed/deployed within that very same <code>kustomization.yaml</code> file.</p> <p>In summary, you have seen that certain resources we have configured in the <code>multi-tenancy-gitops</code> repository to be installed/deployed actually point to the <code>multi-tenancy-gitops-apps</code> repository. As a result of that, you need to also update the <code>multi-tenancy-gitops-apps</code> repository to your desired configuration for the IBM API Connect multi-cluster use case.</p> <p>If you inspect the IBM API Connect subdirectory (<code>apic</code>) within the <code>multi-tenancy-gitops-apps</code> repository with <code>tree multi-tenancy-gitops-apps/apic -L 3</code> you should see the following output:</p> <div class=highlight><pre><span></span><code>multi-tenancy-gitops-apps/apic
 config
  argocd
      multi-cluster
      single-cluster
 environments
  multi-cluster
   app
   instances
   ops
  single-cluster
      instances
      kustomization.yaml
      pipelines
      roles
      tasks
 scripts
  create-apic-multi-cluster-instances.sh
  create-gateway-analytics-instance.sh
 templates
     apic-multi-cluster
         gateway-analytics-instance
         gateway-analytics-instance.yaml
         management-portal-instance
         management-portal-instance.yaml
</code></pre></div> <p>where</p> <ul> <li><code>config</code> stores the ArgoCD Applications that the <code>multi-tenancy-gitops</code> repository you worked with in this section points their ArgoCD Applications to.</li> <li><code>environments</code> stores all the Kubernetes resources that will get installed/deployed on your Red Hat OpenShift clusters.</li> <li><code>scripts</code> stores a couple of utility scripts that will help you creating your <code>instances</code> within your environments matching the same <code>apic-multi-cluster</code> profile structure you created earlier in <code>multi-tenancy-gitops/0-bootstrap/others</code>.</li> <li><code>templates</code> stores those <code>apic-multi-cluster</code> instances templates.</li> </ul> <p>It seems you somehow need to replicate the structure for your IBM API Connect multi-cluster profile you created within the <code>multi-tenancy-gitops</code> repository in the previous subsection but now within your <code>multi-tenancy-gitops-apps</code> repository. And this makes sense since you saw earlier that the <code>apic-multi-cluster</code> profile will vary based on your specific requirements and naming and therefore you can only re-create that structure in the <code>multi-tenancy-gitops-apps</code> repository once you have created the <code>apic-multi-cluster</code> profile structure within the <code>multi-tenancy-gitops</code> repository. Moreover, you know that the IBM API Connect Management and Portal cluster plus the IBM API Connect Gateway and Analytics clusters created within the <code>apic-multi-cluster</code> profile in the <code>multi-tenancy-gitops</code> repository will, in turn, enable in their respective <code>2-services/kustomization.yaml</code> files either the <code>ibm-apic-management-portal-instance.yaml</code> or <code>ibm-apic-gateway-analytics-instance.yaml</code> and that those instances are nothing but ArgoCD Applications pointing to this <code>multi-tenancy-gitops-apps</code> repository.</p> <p>So let's have a look at what you need to recreate the structure of your <code>apic-multi-cluster</code> profile.</p> <ol> <li> <p>Go to <code>multi-tenancy-gitops-apps/apic/scripts</code>:</p> <div class=highlight><pre><span></span><code><span class=nb>cd</span> <span class=nv>$HOME</span>/git
<span class=nb>cd</span> multi-tenancy-gitops-apps/apic/scripts
</code></pre></div> </li> <li> <p>Execute the <code>create-apic-multi-cluster-instances.sh</code> script:</p> <div class=highlight><pre><span></span><code><span class=nv>NAME</span><span class=o>=</span>IBM ./create-apic-multi-cluster-instances.sh
</code></pre></div> <p>where <code>NAME</code> should be set to the same name you used in the <code>multi-tenancy-gitops</code> repository for the IBM API Connect Gateway and Analytics cluster you created.</p> </li> <li> <p>You should see similar output as:</p> <div class=highlight><pre><span></span><code>Creating the IBM API Connect component instances under multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances
Creating the IBM API Connect component instances bootstrap applications under --&gt; multi-tenancy-gitops-apps/apic/config/argocd/multi-cluster/instances
The IBM Gateway and Analytics instance name is IBM
Done
</code></pre></div> </li> <li> <p>Execute the <code>create-gateway-analytics-instance.sh</code> script for any extra IBM API Connect Gateway and Analytics cluster you might have created in the <code>apic-multi-cluster</code> profile in the <code>multi-tenancy-gitops</code> repository.</p> <div class=highlight><pre><span></span><code><span class=nv>NAME</span><span class=o>=</span>AWS ./create-gateway-analytics-instance.sh
</code></pre></div> <p>where <code>NAME</code> should be set to the same name you used in the <code>multi-tenancy-gitops</code> repository for your extra IBM API Connect Gateway and Analytics cluster you created.</p> </li> <li> <p>You should see similar output as:</p> <div class=highlight><pre><span></span><code>Creating a new IBM Gateway and Analytics instance called AWS
The IBM API Gateway and Analytics instance will be under --&gt; multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances
The IBM API Gateway and Analytics instance bootstrap application will be under --&gt; multi-tenancy-gitops-apps/apic/config/argocd/multi-cluster/instances
Done
</code></pre></div> </li> </ol> <p>Let's look at the new structure for your <code>multi-tenancy-gitops-apps</code> repository. Let's first look at the <code>multi-tenancy-gitops-apps/apic/config/argocd/multi-cluster</code> folder which is where the ArgoCD applications from <code>multi-tenancy-gitops</code> repository point to. Execute <code>tree multi-tenancy-gitops-apps/apic/config/argocd/multi-cluster -L 3</code>:</p> <div class=highlight><pre><span></span><code>multi-tenancy-gitops-apps/apic/config/argocd/multi-cluster
 app
  apic-app-multi-cluster.yaml
 instances
  AWS-gateway-analytics-instance
   AWS-gateway-analytics-instance.yaml
  IBM-gateway-analytics-instance
   IBM-gateway-analytics-instance.yaml
  management-portal-instance
      management-portal-instance.yaml
 ops
     apic-pipelines-multi-cluster.yaml
</code></pre></div> <p>You can see now that under <code>instances</code> you have the same structure in terms of IBM API Connect Management and Portal and IBM API Connect Gateway and Analytics clusters as you have in your <code>multi-tenancy-gitops</code> repository. There is also an <code>app</code> and <code>ops</code> folders which will be responsible for deploying a dummy application that returns a message about the cloud where it is running (for later testing of the scenario) and the OpenShift pipelines that will configure your IBM API Connect multi-cluster instance and publish your IBM API Connect product and APIs respectively. These folders, which in turn contain ArgoCD applications, will get deployed in the IBM API Connect Gateway and Analytics and IBM API Connect Management and Portal clusters respectively. You can figure this out by checking the <code>3-services/kustomization.yaml</code> files for your clusters within the <code>apic-multi-cluster</code> profile in the <code>multi-tenancy-gitops</code> repository. You will work with the application and the OpenShift Pipelines in the following sections.</p> <p>Now, let's have a look at the <code>multi-tenancy-gitops-apps/apic/environments/multi-cluster</code> folder which is where the above ArgoCD Applications will be watching Kubernetes resources for. Execute <code>tree multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances -L 3</code> (the <code>app</code> and <code>ops</code> folders will get examined in the following sections):</p> <div class=highlight><pre><span></span><code>multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances
 AWS-gateway-analytics-instance
  certificates
   gateway-peering.yaml
   gateway-service.yaml
   ingress-ca.yaml
  instances
   ibm-apic-analytics-instance.yaml
   ibm-apic-gateway-instance.yaml
  issuers
   ingress-issuer.yaml
   selfsigning-issuer.yaml
  kustomization.yaml
  scripts
   set-storage-ocp-domain.sh
  secrets
      datapower-admin-credentials.yaml
      ingress-ca.yaml
 IBM-gateway-analytics-instance
  certificates
   gateway-peering.yaml
   gateway-service.yaml
   ingress-ca.yaml
  instances
   ibm-apic-analytics-instance.yaml
   ibm-apic-gateway-instance.yaml
  issuers
   ingress-issuer.yaml
   selfsigning-issuer.yaml
  kustomization.yaml
  scripts
   set-storage-ocp-domain.sh
  secrets
      datapower-admin-credentials.yaml
      ingress-ca.yaml
 management-portal-instance
     certificates
      analytics-client-client.yaml
      analytics-ingestion-client.yaml
      gateway-client-client.yaml
      ingress-ca.yaml
      portal-admin-client.yaml
     instances
      ibm-apic-management-instance.yaml
      ibm-apic-portal-instance.yaml
     issuers
      ingress-issuer.yaml
      selfsigning-issuer.yaml
     kustomization.yaml
     scripts
      set-storage-ocp-domain.sh
     secrets
         ingress-ca.yaml
         management-admin-credentials.yaml
</code></pre></div> <p>where you can see</p> <ul> <li>A folder per IBM API Connect Management and Portal cluster and IBM API Connect Gateway and Analytics clusters that should resemble, as already said, the structure you defined for the <code>apic-multi-cluster</code> profile in the <code>multi-tenancy-gitops</code> repository.</li> <li>A <code>certificates</code>, <code>issuers</code> and <code>secrets</code> folders that will store the certificates, issuers and secrets that need to get created/deployed in order for the specific IBM API Connect components to work fine.</li> <li>An <code>instances</code> folder that will store the specific IBM API Connect component instances that will get deployed/created in that cluster.</li> <li>A <code>scripts</code> folder that will store a utility script to help you set the specific Red Hat OpenShift domain and block storage class for that Red Hat OpenShift cluster.</li> <li>A <code>kustomization.yaml</code> file that, once again, will contain the index of resources the ArgoCD Application taking care of this location within your <code>multi-tenancy-gitops-apps</code> repository will create/deploy.</li> </ul> <div class="admonition info"> <p class=admonition-title>Certificates and Issuers</p> <p>IBM API Connect requires certificates to stablish secure mutual TLS (mTLS) communication between its Management component and the rest of the components. The certificates can be provided or you can let the IBM API Connect operator, with the help of the IBM Cert Manager operator installed as part of the IBM Foundations operator, create them. It will use the Issuers to create these which in turn require of a Certificate Authority to sign these with. Since this is a reference asset, certificates will get created by the IBM API Connect operator. However, a Certificate Authority called <code>ingress-ca.yaml</code> has been provided within the <code>secrets</code> folder so that it reflects a more real world scenario. For more information about certificates, issuers and certificate authorities, please contact and IBM API Connect SME as this is out of the scope of this asset.</p> </div> <p>There are just another two steps you need to take in order to have the <code>multi-tenancy-gitops-apps</code> repository totally configured for you specific IBM API Connect multi-cluster use case. </p> <p>First, you need to configure each of the management, portal, gateway and analytics instances within your Management and Portal and Gateway and Analytics instances above in <code>multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances</code> with the specific Red Hat OpenShift domain and block storage class name for the Red Hat OpenShift cluster these will be installed/deployed into. For example, if you inspect the <code>multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances/management-portal-instance/instances/ibm-apic-management-instance.yaml</code> instance:</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span><span class=w></span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Application</span><span class=w></span>
<span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ibm-apic-management-instance</span><span class=w></span>
<span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>argocd.argoproj.io/sync-wave</span><span class=p>:</span><span class=w> </span><span class=s>&quot;250&quot;</span><span class=w></span>
<span class=w>  </span><span class=nt>finalizers</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">resources-finalizer.argocd.argoproj.io</span><span class=w></span>
<span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>gitops.tier.group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cloudpak</span><span class=w></span>
<span class=w>    </span><span class=nt>gitops.tier.layer</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">services</span><span class=w></span>
<span class=nt>spec</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>syncPolicy</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>automated</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>prune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>      </span><span class=nt>selfHeal</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tools</span><span class=w></span>
<span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://kubernetes.default.svc</span><span class=w></span>
<span class=w>  </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">services</span><span class=w></span>
<span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">instances/ibm-apic-mgmt-instance</span><span class=w></span>
<span class=w>    </span><span class=nt>helm</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span><span class=w></span>
<span class=w>        </span><span class=no>ibm-apic-mgmt-instance:</span><span class=w></span>
<span class=w>          </span><span class=no>ibmapicmgmtinstance:</span><span class=w></span>
<span class=w>            </span><span class=no>name: management</span><span class=w></span>
<span class=w>            </span><span class=no>spec:</span><span class=w></span>
<span class=w>              </span><span class=no>version: 10.0.3.0-ifix1</span><span class=w></span>
<span class=w>              </span><span class=no>profile: n3xc4.m16</span><span class=w></span>
<span class=w>              </span><span class=no>portal:</span><span class=w></span>
<span class=w>                </span><span class=no>admin:</span><span class=w></span>
<span class=w>                  </span><span class=no>secretName: portal-admin-client</span><span class=w></span>
<span class=w>              </span><span class=no>analytics:</span><span class=w></span>
<span class=w>                </span><span class=no>client:</span><span class=w></span>
<span class=w>                  </span><span class=no>secretName: analytics-client-client</span><span class=w></span>
<span class=w>                </span><span class=no>ingestion:</span><span class=w></span>
<span class=w>                  </span><span class=no>secretName: analytics-ingestion-client</span><span class=w></span>
<span class=w>              </span><span class=no>gateway:</span><span class=w></span>
<span class=w>                </span><span class=no>client:</span><span class=w></span>
<span class=w>                  </span><span class=no>secretName: gateway-client-client</span><span class=w></span>
<span class=w>              </span><span class=no>cloudManagerEndpoint:</span><span class=w></span>
<span class=w>                </span><span class=no>annotations:</span><span class=w></span>
<span class=w>                  </span><span class=no>certmanager.k8s.io/issuer: ingress-issuer</span><span class=w></span>
<span class=w>                </span><span class=no>hosts:</span><span class=w></span>
<span class=hll><span class=w>                  </span><span class=no>- name: admin.&lt;your-openshift-domain&gt;</span><span class=w></span>
</span><span class=w>                    </span><span class=no>secretName: management-cm-endpoint-secret</span><span class=w></span>
<span class=w>              </span><span class=no>apiManagerEndpoint:</span><span class=w></span>
<span class=w>                </span><span class=no>annotations:</span><span class=w></span>
<span class=w>                  </span><span class=no>certmanager.k8s.io/issuer: ingress-issuer</span><span class=w></span>
<span class=w>                </span><span class=no>hosts:</span><span class=w></span>
<span class=hll><span class=w>                  </span><span class=no>- name: manager.&lt;your-openshift-domain&gt;</span><span class=w></span>
</span><span class=w>                    </span><span class=no>secretName: management-apim-endpoint-secret</span><span class=w></span>
<span class=w>              </span><span class=no>platformAPIEndpoint:</span><span class=w></span>
<span class=w>                </span><span class=no>annotations:</span><span class=w></span>
<span class=w>                  </span><span class=no>certmanager.k8s.io/issuer: ingress-issuer</span><span class=w></span>
<span class=w>                </span><span class=no>hosts:</span><span class=w></span>
<span class=hll><span class=w>                  </span><span class=no>- name: api.&lt;your-openshift-domain&gt;</span><span class=w></span>
</span><span class=w>                    </span><span class=no>secretName: management-api-endpoint-secret</span><span class=w></span>
<span class=w>              </span><span class=no>consumerAPIEndpoint:</span><span class=w></span>
<span class=w>                </span><span class=no>annotations:</span><span class=w></span>
<span class=w>                  </span><span class=no>certmanager.k8s.io/issuer: ingress-issuer</span><span class=w></span>
<span class=w>                </span><span class=no>hosts:</span><span class=w></span>
<span class=hll><span class=w>                  </span><span class=no>- name: consumer.&lt;your-openshift-domain&gt;</span><span class=w></span>
</span><span class=w>                    </span><span class=no>secretName: management-consumer-endpoint-secret</span><span class=w></span>
<span class=w>              </span><span class=no>databaseVolumeClaimTemplate:</span><span class=w></span>
<span class=hll><span class=w>                </span><span class=no>storageClassName: &lt;your-block-storage-class&gt;</span><span class=w></span>
</span><span class=w>              </span><span class=no>microServiceSecurity: certManager</span><span class=w></span>
<span class=w>              </span><span class=no>certManagerIssuer:</span><span class=w></span>
<span class=w>                </span><span class=no>name: selfsigning-issuer</span><span class=w></span>
<span class=w>                </span><span class=no>kind: Issuer</span><span class=w></span>
<span class=w>              </span><span class=no>adminUser:</span><span class=w></span>
<span class=w>                </span><span class=no>secretName: management-admin-credentials</span><span class=w></span>
<span class=w>              </span><span class=no>license:</span><span class=w></span>
<span class=w>                </span><span class=no>accept: true</span><span class=w></span>
<span class=w>                </span><span class=no>license: L-RJON-BZEP9N</span><span class=w></span>
<span class=w>                </span><span class=no>use: production</span><span class=w></span>
</code></pre></div> <p>you will see in lines <code>46</code>, <code>52</code>, <code>58</code> and <code>64</code> that there is a placeholder for your Red Hat OpenShift cluster domain and in line <code>67</code> there is a placeholder for you Red Hat OpenShift cluster block storage class name.</p> <p>For replacing these placeholders at once for a particular IBM API Connect Management and Portal or IBM API Connect Gateway and Analytics instance, you have the <code>set-storage-ocp-domain.sh</code> script under the <code>scripts</code> folder of that specific instance. All you need to do is execute it:</p> <ol> <li> <p>Change directory to the specific instance within <code>multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances</code> and into the <code>scripts</code> folder.</p> </li> <li> <p>Execute the <code>set-storage-ocp-domain.sh</code> script:</p> <div class=highlight><pre><span></span><code><span class=nv>OCP_DOMAIN</span><span class=o>=</span>&lt;your_ocp_domain&gt; <span class=nv>STORAGE</span><span class=o>=</span>&lt;your_block_storage_class_name&gt; ./set-storage-ocp-domain.sh
</code></pre></div> <p>where</p> <ul> <li> <p><code>&lt;your_ocp_domain&gt;</code> is the domain for your Red Hat OpenShift cluster.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>You can find your Red Hat OpenShift cluster domain by executing <code>oc get route console -n openshift-console -o jsonpath='{.spec.host}'</code>. Your Red Hat OpenShift cluster domain will be what is after <code>console-openshift-console.</code>. That is, what the command would return you is <code>console-openshift-console.&lt;your_ocp_domain&gt;</code>. Another way to find out your Red Hat OpenShift cluster domain would be with the following command <code>oc get route console -n openshift-console -o jsonpath='{.status.ingress[].routerCanonicalHostname}'</code></p> </div> </li> <li> <p><code>&lt;your_block_storage_class_name&gt;</code> is the name of a block storage class in your Red Hat OpenShift cluster.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>You can find your Storage Classes with <code>oc get storageclass</code></p> </div> </li> </ul> </li> <li> <p>After executing the <code>set-storage-ocp-domain.sh</code> script, you should see similar output as:</p> <div class=highlight><pre><span></span><code>Setting the storage class name for the IBM API Connect Management and Portal components to ibmc-block-gold
Setting the OpenShift domain for the IBM API Connect Management and Portal components to itzroks-270005wyhs-0y6bxj-6ccd7f378ae819553d37d5f2ee142bd6-0000.eu-gb.containers.appdomain.cloud
Done
</code></pre></div> </li> <li> <p>If you now inspect again the <code>ibm-apic-management-instance.yaml</code> or <code>ibm-apic-portal-instance.yaml</code> under <code>multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances/management-portal-instance/instances/</code> you should now see that the placeholders have been properly replaced. Again, we have chosen the IBM API Connect Management and Portal instance as the example.</p> </li> </ol> <div class="admonition warning"> <p class=admonition-title>Important</p> <p>Remember you need to set the Red Hat OpenShift cluster domain and block storage class name for the IBM API Connect Management and Portal instance and all the IBM API Connect Gateway and Analytics instances you have configured your IBM API Connect multi-cluster use case with. That is, all the instances you will find within <code>multi-tenancy-gitops-apps/apic/environments/multi-cluster/instances</code></p> </div> <p>Second, you also need to set the git sources for all of the ArgoCD Applications and <code>kustomization.yaml</code> files within the <code>multi-tenancy-gitops-apps</code> repository, in the same fashion you did earlier in the <code>multi-tenancy-gitops</code> repository, so that the <code>repoURL</code> and <code>targetRevision</code> get patched with the appropriate GitHub repository URLs. As we do in the <code>multi-tenancy-gitops</code> repository, we also provide a utility script called <code>set-git-source.sh</code> under the <code>multi-tenancy-gitops-apps/scripts</code> folder to help you with replacing those git source placeholders.</p> <ol> <li> <p>Change directory to <code>multi-tenancy-gitops-apps/scripts</code>.</p> </li> <li> <p>Execute the <code>set-git-source.sh</code> script:</p> <div class=highlight><pre><span></span><code><span class=nv>GIT_ORG</span><span class=o>=</span>&lt;your_git_org&gt; ./scripts/set-git-source.sh
</code></pre></div> <p>where <code>&lt;your_git_org&gt;</code> is your GitHub organization you created in the <a href=../configure-clusters-gitops/ >Configure Clusters - GitOps</a> section and forked the GitOps repositories you are using to drive the GitOps processes for the IBM API Connect multi-cluster use case into.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The <code>set-git-source.sh</code> allows for fine-grained customization of each of the GitOps repositories and their respective branches for greater flexibility. However, we assume you are working off the <code>master</code> branch and your GitOps repositories are called as the original GitOps repositories your forked from.</p> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This script might take a minute or so to execute.</p> </div> </li> <li> <p>You should see similar output as:</p> <div class=highlight><pre><span></span><code>Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops.git on branch master
Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops-infra.git on branch master
Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops-services.git on branch master
Setting kustomization patches to https://github.com/apic-multi-cluster/multi-tenancy-gitops-apps.git on branch master
done replacing variables in ArgoCD Application files
git commit and push changes now
</code></pre></div> </li> </ol> <p>Finally, you can commit and deliver the changes to your <code>multi-tenancy-gitops-apps</code> repository:</p> <div class=highlight><pre><span></span><code>git add .
git commit -s -m <span class=s2>&quot;Created APIC multi-cluster instances&quot;</span>
git push origin <span class=nv>$GIT_BRANCH</span>
</code></pre></div> <div class="admonition success"> <p class=admonition-title>Congratulations!</p> <p>You have created an IBM API Connect multi-cluster profile in your <code>multi-tenancy-gitops</code> repository that should suit your IBM API Connect multi-cluster use case needs. You have then replicated that profile structure in your <code>multi-tenancy-gitops-apps</code> repository where the actual resources to be installed/deployed by the different ArgoCD applications reside after tailoring these to your Red Hat OpenShift cluster specifics. As a result, you have successfully configured both your <code>multi-tenancy-gitops</code> and <code>multi-tenancy-gitops-apps</code> repositories that will be driving the GitOps process for deploying your IBM API Connect multi-cluster scenario. Go to the next section to start deploying it!</p> </div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <!-- Footer --> <footer class=md-footer> <!-- Link to previous and/or next page --> <nav class="md-footer__inner md-grid" aria-label=Footer> <!-- Link to previous page --> <a href=../configure-clusters-gitops/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> GitOps repos & ArgoCD </div> </div> </a> <!-- Link to next page --> <a href=../deploy/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Deploy APIC </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-column> <div class=md-footer-text>Site licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ >CC BY-NC-SA 4.0</a></div> </div> <div class=md-footer-column> <!-- Copyright and theme information --> <div class=md-footer-text> Copyright  2021 Cloud Pak Production Deployment Guides </div> </div> <div class=md-footer-social> <a href=https://github.ibm.com/cloudpakbringup/deployment-guides target=_blank rel=noopener title="Production Deployment Guides on Github Enterprise" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"> <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"> </path> </svg> </a> <a href=https://ibm-cloud.slack.com/archives/C02CQ6M2D2R target=_blank rel=noopener title=Slack class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"> <path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"> </path> </svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.tracking", "navigation.tabs.sticky", "navigation.top", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../../assets/javascripts/workers/search.22074ed6.min.js"}</script> <script src=../../../../../assets/javascripts/bundle.960e086b.min.js></script> </body> </html>